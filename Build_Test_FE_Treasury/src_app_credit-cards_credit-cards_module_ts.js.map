{"version":3,"file":"src_app_credit-cards_credit-cards_module_ts.js","mappings":"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","sources":["./src/app/credit-cards/create-reconciliation/components/group-reconciliation/group-reconciliation.component.ts","./src/app/credit-cards/create-reconciliation/components/group-reconciliation/group-reconciliation.component.html","./src/app/credit-cards/create-reconciliation/create-reconciliation.component.ts","./src/app/credit-cards/create-reconciliation/create-reconciliation.component.html","./src/app/credit-cards/credit-card-list/credit-card-list.component.ts","./src/app/credit-cards/credit-card-list/credit-card-list.component.html","./src/app/credit-cards/credit-cards-payment/credit-cards-payment.component.html","./src/app/credit-cards/credit-cards-payment/credit-cards-payment.component.ts","./src/app/credit-cards/credit-cards-routing.module.ts","./src/app/credit-cards/credit-cards.module.ts","./src/app/credit-cards/payment-detail-view/payment-detail-view.component.ts","./src/app/credit-cards/payment-detail-view/payment-detail-view.component.html","./src/app/credit-cards/reconciliation-details/reconciliation-details.component.ts","./src/app/credit-cards/reconciliation-details/reconciliation-details.component.html","./src/app/credit-cards/reconciliation-history/reconciliation-history.component.ts","./src/app/credit-cards/reconciliation-history/reconciliation-history.component.html"],"sourcesContent":["import { Component, EventEmitter, Output } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { MessageModalComponent } from '../../../../shared/modals/message-modal/message-modal.component';\r\nimport { Observable } from 'rxjs';\r\nimport { CreditCardService } from '../../../../shared/services/credit-card.service';\r\nimport { TableColumn, TableConfig } from '../../../../shared/components/table-advanced';\r\n@Component({\r\n  selector: 'app-group-reconciliation',\r\n  templateUrl: './group-reconciliation.component.html',\r\n  styleUrls: ['./group-reconciliation.component.scss']\r\n})\r\nexport class GroupReconciliationComponent {\r\n  formGroup!: FormGroup;\r\n  data: any;\r\n  bankAccountList = [];\r\n  commisionPercentage = '';\r\n  checkRecon = false;\r\n  tableConfig: TableConfig = {\r\n    paging: false,\r\n  };\r\n  reconList: any[] = [];\r\n  tableColumns: TableColumn[] = [];\r\n  @Output() eventData = new EventEmitter();\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    public _activeModal: NgbActiveModal,\r\n    public _modalService: NgbModal,\r\n    public cerditCardService: CreditCardService,\r\n  ) { }\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.getBankAccountList();\r\n    this.initTableColumns();\r\n    console.log(this.data);\r\n  }\r\n  initForm() {\r\n    this.formGroup = this.fb.group({\r\n      bankId: [null, [Validators.required]],\r\n      date: [new Date(), [Validators.required]],\r\n      commission: ['', [Validators.required, Validators.min(0), Validators.max(100)]],\r\n    })\r\n  }\r\n  getBankAccountList() {\r\n    this.cerditCardService.getBankAccounts(`pageSize=1000&status=2001&accountType=15010`).subscribe(response => {\r\n      this.bankAccountList = response.data;\r\n    })\r\n  }\r\n  handleCommissionAmountChange(event: any) {\r\n    const amount = +event.target.value;\r\n    if (amount > +this.data?.totalAmount) {\r\n      this.f.get('commission')?.setErrors({ inValidAmount: true });\r\n      this.f.get('commission').markAsTouched();\r\n    }\r\n    else {\r\n      if (amount > 0) {\r\n        this.commisionPercentage = ((1 - ((this.data?.totalAmount - amount) / this.data?.totalAmount)) * 100).toString();\r\n        this.f.get('commission')?.setValue(this.commisionPercentage);\r\n        this.f.get('commission')?.setErrors(null);\r\n      }\r\n    }\r\n  }\r\n  handleCheckRecon() {\r\n    this.checkRecon = true;\r\n    this.reconList = [...this.data?.cardIds]\r\n    this.reconList = this.reconList.map((x: any) => {\r\n      let comAmount = +((+x?.cardCollectionJod) * (+this.commisionPercentage) / 100).toFixed(3);\r\n      return {\r\n        ...x,\r\n        comPercentage: +this.commisionPercentage,\r\n        comAmount,\r\n        amount: (x?.cardCollectionJod).toFixed(3),\r\n        netAmount: (+x?.cardCollectionJod - comAmount).toFixed(3),\r\n      }\r\n    })\r\n  }\r\n  calculateCommission(item: any) {\r\n    let amount = item?.cardCollectionJod;\r\n    let commissionPercentage = +this.f.get('commission')?.value;\r\n    let commissionAmount = (amount * (commissionPercentage / 100)).toFixed(3);\r\n    let netAmount = (amount - (+commissionAmount)).toFixed(3);\r\n    return { netAmount, commissionAmount }\r\n  }\r\n  save() {\r\n    //console.log(this.calculateCommission({ cardCollectionJod: 100 }));\r\n    if (this.formGroup.invalid) {\r\n      this.formGroup.markAllAsTouched();\r\n      return\r\n    }\r\n    let value = this.formGroup.value;\r\n    let dataArray: any[] = [];\r\n    //this.data.cardIds.forEach((item: any) => {\r\n    //  let obj = {\r\n    //    reconcilationIds: item?.reconcilationIds,\r\n    //    commission: this.calculateCommission(item).commissionAmount,\r\n    //    cardCollectionJodNet: this.calculateCommission(item).netAmount,\r\n    //    cardBankDepositDate: value?.date,\r\n    //    bankaccountID: value?.bankId,\r\n    //  }\r\n    //  dataArray.push(obj);\r\n    //})\r\n    this.reconList.forEach((item: any) => {\r\n      let obj = {\r\n        reconcilationIds: item?.reconcilationIds,\r\n        commission: item?.comAmount,\r\n        cardCollectionJodNet: item?.netAmount,\r\n        cardBankDepositDate: value?.date,\r\n        bankaccountID: value?.bankId,\r\n      }\r\n      dataArray.push(obj);\r\n    })\r\n    this.cerditCardService.ReconcilationIds(dataArray).subscribe({\r\n      next: response => {\r\n        if (response.isSuccess) {\r\n          this.responseModal('success', 'Reconciliation successfully done.');\r\n          this.eventData.emit(response.data);\r\n        }\r\n      },\r\n      error: (err: any) => {\r\n        this.responseModal('error', err?.error?.errors[0].errorMessageEn || err?.error?.errors[0].ErrorMessageEn || err?.info);\r\n      }\r\n    })\r\n  }\r\n  responseModal(type: any, message: any) {\r\n    const ref = this._modalService.open(MessageModalComponent);\r\n    ref.componentInstance.type = type;\r\n    ref.componentInstance.message = message;\r\n  }\r\n  toggleEdit() {\r\n    this.formGroup.enable();\r\n  }\r\n  get f() {\r\n    return this.formGroup;\r\n  }\r\n  initTableColumns() {\r\n    this.tableColumns = [\r\n      { key: 'reconcilationIds', label: 'Card ID' },\r\n      { key: 'comPercentage', label: 'Commission Percentage' },\r\n      { key: 'comAmount', label: 'Commission Amount' },\r\n      { key: 'amount', label: 'Amount' },\r\n      { key: 'netAmount', label: 'Net Amount' },\r\n    ];\r\n  }\r\n\r\n}\r\n","<div class=\"modal-header align-items-center justify-content-between\">\r\n  <h4 ngbAutoFocus class=\"modal-title\">Reconciliation of selected cards</h4>\r\n</div>\r\n<div class=\"modal-body\">\r\n  <form [formGroup]=\"formGroup\">\r\n    <!--{{formGroup.value | json}}-->\r\n    <div class=\"row mb-3\">\r\n      <div class=\"col-4\">\r\n        <label>Deposit Bank Account</label>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <ng-select placeholder=\"Bank Account\" formControlName=\"bankId\" [items]=\"bankAccountList\"\r\n                   bindLabel=\"accountName\" bindValue=\"accountId\">\r\n          <ng-template ng-option-tmp let-item=\"item\">\r\n            {{item?.accountName + '-' + item?.bankNameEnglish + '-' +  item?.accountNumber}}\r\n          </ng-template>\r\n        </ng-select>\r\n        <validation-error [control]=\"f.get('bankId')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mb-3\">\r\n      <div class=\"col-4\">\r\n        <label>Deposit Date</label>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <div class=\"input-group\">\r\n          <input type=\"text\" formControlName=\"date\"\r\n                 placeholder=\"Select Date\" class=\"form-control custom-input-field\" bsDatepicker\r\n                 [bsConfig]=\"{ containerClass: 'theme-red', isAnimated: true, showClearButton: true }\"\r\n                 #drp=\"bsDatepicker\">\r\n          <span class=\"input-group-text cursor-pointer\" (click)=\"drp.toggle()\"><img class=\"calender\" src=\"/assets/images/calendar.png\" alt=\"\" /></span>\r\n        </div>\r\n        <validation-error [control]=\"f.get('date')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mb-3\">\r\n      <div class=\"col-4\">\r\n        <label>Total Amount</label>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <h6 class=\"fw-600\">{{data?.totalAmount | number:'2.3-3'}} JOD</h6>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mb-3\">\r\n      <div class=\"col-4\">\r\n        <label>Commission Amount</label>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <div class=\"input-group\">\r\n          <input type=\"text\" decimalNumber placeholder=\"Commission Amount\" (change)=\"handleCommissionAmountChange($event)\" class=\"form-control height-47\">\r\n        </div>\r\n        <validation-error [control]=\"f.get('commission')\" [errorMessages]=\"{inValidAmount:'Commission amount cannot be greater than total amount.'}\"></validation-error>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mb-3\">\r\n      <div class=\"col-4\">\r\n        <label>Commission Percentage</label>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <div class=\"input-group\">\r\n          <input type=\"text\" decimalNumber formControlName=\"commission\" placeholder=\"Commission Percentage\" class=\"form-control height-47\">\r\n          <span class=\"input-group-text\">%</span>\r\n        </div>\r\n        <validation-error [control]=\"f.get('commission')\"\r\n                          [errorMessages]=\"{required:'Input is required',min:'Value must be in 0-100 range.',max:'Value must be in 0-100 range.'}\">\r\n\r\n        </validation-error>\r\n      </div>\r\n    </div>\r\n  </form>\r\n  <ng-container>\r\n    <app-table-advanced [config]=\"tableConfig\" [columns]=\"tableColumns\" [data]=\"reconList\">\r\n    </app-table-advanced>\r\n  </ng-container>\r\n</div>\r\n<div class=\"modal-footer border-0\">\r\n  <button class=\"btn btn-add\" type=\"button\" [disabled]=\"formGroup.invalid\" (click)=\"handleCheckRecon()\">Check Reconciliation</button>\r\n  <button class=\"btn btn-add\" type=\"button\" [disabled]=\"formGroup.invalid\" (click)=\"save()\">Group Reconciliation</button>\r\n  <button class=\"btn btn-cancel\" type=\"button\" (click)=\"_activeModal.close()\">Cancel</button>\r\n</div>\r\n","import { AfterViewInit, Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\nimport { TableColumn, TableConfig } from 'src/app/shared/components/table-advanced';\r\nimport { CreditCardService } from 'src/app/shared/services/credit-card.service';\r\nimport { Subject, debounceTime, distinctUntilChanged, forkJoin, takeUntil } from 'rxjs';\r\nimport { HeaderService } from '../../shared/services/header.service';\r\nimport { AbstractControl, FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ModalDismissReasons, NgbModal, NgbModalConfig } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Router } from '@angular/router';\r\nimport { MessageModalComponent } from '../../shared/modals/message-modal/message-modal.component';\r\nimport { filter } from 'lodash';\r\nimport { GroupReconciliationComponent } from './components/group-reconciliation/group-reconciliation.component';\r\nimport { HelperService } from '../../shared/services/helper.service';\r\n@Component({\r\n  selector: 'app-create-reconciliation',\r\n  templateUrl: './create-reconciliation.component.html',\r\n  styleUrls: ['./create-reconciliation.component.scss'],\r\n  providers: [DatePipe]\r\n})\r\nexport class CreateReconciliationComponent {\r\n  datepickerInput: any;\r\n  searchText = new FormControl(null);\r\n  netAmount = new FormControl(null)\r\n  collectionDate = new FormControl(null)\r\n  @ViewChild('myModal') event: ElementRef | undefined;\r\n  @ViewChild('myErrorModal') eventerror: ElementRef | undefined;\r\n  unsubscribe = new Subject<void>();\r\n  isvalid: boolean = true\r\n  isReturn = false;\r\n  tableColumns: TableColumn[] = [];\r\n  searchChequeNo: string = '';\r\n  searchCustomerNo: string = '';\r\n  loading = false;\r\n  reconciliation: any[] = [];\r\n  bankAccountList: any[] = [];\r\n  branchList: any[] = [];\r\n  totalAllRecordsCount = 0;\r\n  page = 1;\r\n  total = 0;\r\n  limit = 6;\r\n  sort: number = 1;\r\n  startDate = '';\r\n  tableConfig: TableConfig = {\r\n    paging: true,\r\n    filter: {\r\n      Sort: 1,\r\n      PageSize: this.limit,\r\n    },\r\n  };\r\n  modalReference: any;\r\n  closeResult: any;\r\n  formGroup!: FormGroup;\r\n  filterForm!: FormGroup;\r\n  selectedAmount = 0;\r\n  filterParams = '';\r\n  constructor(\r\n    private creditcardservice: CreditCardService,\r\n    private headerService: HeaderService,\r\n    private modalService: NgbModal,\r\n    public router: Router,\r\n    private modalConfig: NgbModalConfig,\r\n    private fb: FormBuilder,\r\n    private _datePipe: DatePipe,\r\n    private _helperService: HelperService,\r\n  ) {\r\n    this.modalConfig.centered = true;\r\n  }\r\n  ngOnInit() {\r\n    this.headerService.setTitle('Create Reconciliation');\r\n    this.initFilterForm();\r\n    this.getData()\r\n    this.formGroup = this.fb.group({\r\n      cardsArray: this.fb.array([])\r\n    });\r\n    this.fetcAllData();\r\n    this.getBankAccountList();\r\n  }\r\n  getData() {\r\n    const api1$ = this.creditcardservice.GetProviders({ pageSize: 1000, status: 2001 });\r\n    const api2$ = this.creditcardservice.GetCards();\r\n    const branch$ = this.creditcardservice.GetBranch({});\r\n    forkJoin([api1$, api2$, branch$]).subscribe(\r\n      ([result1, result2, branch]) => {\r\n        this.provider = result1.data;\r\n        this.cardlist = result2.data;\r\n        this.branchList = branch.data;\r\n      },\r\n      (error) => {\r\n      }, () => { this.loading = false; });\r\n  }\r\n\r\n  initFilterForm() {\r\n    this.filterForm = this.fb.group({\r\n      providerId: [null],\r\n      collectionDate: [''],\r\n      collectionDateFrom: [''],\r\n      collectionDateTo: [''],\r\n      cardTypeId: [null],\r\n      netAmount: [''],\r\n      last4digits: [''],\r\n      machineID: [''],\r\n      branchId: [null],\r\n      status: [30001],\r\n    })\r\n    this.filterForm.valueChanges.pipe(debounceTime(500)).subscribe(data => {\r\n      this.page = 1;\r\n      let formValues = this._helperService.trim(data);\r\n      if (formValues?.collectionDate) {\r\n        formValues = {\r\n          ...formValues,\r\n          collectionDateFrom: this._datePipe.transform(formValues.collectionDate[0], 'yyyy-MM-dd'),\r\n          collectionDateTo: this._datePipe.transform(formValues.collectionDate[1], 'yyyy-MM-dd')\r\n        };\r\n        delete formValues.collectionDate;\r\n      }\r\n      this.filterParams = new URLSearchParams(formValues).toString();\r\n      this.fetcAllData();\r\n    })\r\n  }\r\n  fetcAllData() {\r\n    this.loading = true;\r\n    let params = '';\r\n    if (this.filterParams)\r\n      params = `${this.filterParams}&pageSize=1000&pageNo=${this.page - 1}&sort=${this.sort}`\r\n    else\r\n      params = `status=${30001}&pageSize=1000&pageNo=${this.page - 1}&sort=${this.sort}`\r\n    this.creditcardservice.GetReconHistory(params).subscribe(result => {\r\n      if (result) {\r\n        this.reconciliation = result.data || []\r\n        this.totalAllRecordsCount = result?.totalRecordCount;\r\n        this.total = result?.totalRecordCount;\r\n        this.cardsArray.clear();\r\n        this.reconciliation = this.reconciliation.map((element: any, index: number) => {\r\n          this.cardsArray.push(this.initFormGroup(element));\r\n          return {\r\n            ...element,\r\n            checked: false,\r\n          }\r\n        })\r\n\r\n      }\r\n    }).add(() => (this.loading = false));\r\n  }\r\n\r\n  getBankAccountList() {\r\n    this.creditcardservice.getBankAccounts(`pageSize=1000&status=2001&accountType=15010`).subscribe(response => {\r\n      this.bankAccountList = response.data;\r\n    })\r\n  }\r\n  get cardsArray() {\r\n    return this.formGroup.get('cardsArray') as FormArray;\r\n  }\r\n  getNotReturnedCardTransactions() {\r\n    let filtered = this.cardsArray.getRawValue().filter(value => value?.reconcilationIds > 0);\r\n    if (filtered.length)\r\n      this.isReturn = filtered.every(value => !value.isReturn);\r\n  }\r\n  groupReconciliation() {\r\n    let cardIds = this.cardsArray.getRawValue().filter(value => value?.reconcilationIds > 0 && !value.isReturn);\r\n    const modalRef = this.modalService.open(GroupReconciliationComponent, { size: 'lg' });\r\n    modalRef.componentInstance.data = { cardIds, totalAmount: this.selectedAmount };\r\n    modalRef.componentInstance.eventData.subscribe((value: any) => {\r\n      //let comPercentage = value?.commissionPercentage;\r\n      //this.cardsArray.controls.forEach((control: AbstractControl, index: number) => {\r\n      //  let reconcilationId = control.get('reconcilationIds')?.value;\r\n      //  if (reconcilationId) {\r\n      //    let amount = +this.reconciliation[index].cardCollectionJod;\r\n      //    let comAmount = +(amount * comPercentage / 100)\r\n      //    control.get('comissionPercentage')?.setValue(comPercentage);\r\n      //    control.get('comissionAmount')?.setValue(comAmount.toFixed(3));\r\n      //    control.get('netAmount')?.setValue((amount - comAmount).toFixed(3));\r\n      //  }\r\n      //})\r\n      this.selectedAmount = 0;\r\n      this.isReturn = false;\r\n      this.fetcAllData();\r\n      modalRef.dismiss();\r\n    })\r\n  }\r\n  initFormGroup(item?: any) {\r\n    const formGroup = this.fb.group({\r\n      reconcilationIds: [null],\r\n      //comissionPercentage: ['0'],\r\n      comissionAmount: [''],\r\n      netAmount: [null],\r\n      bankaccountID: [null],\r\n      depositDate: [new Date()],\r\n      checked: [false],\r\n      isReturn: [item?.isReturn], //Readonly\r\n      cardCollectionJod: [item?.cardCollectionJod], //Readonly\r\n    });\r\n    if (item && item.isReturn) {\r\n      formGroup.get('comissionAmount')?.setValue('0');\r\n      formGroup.get('comissionAmount')?.disable();\r\n      formGroup.get('netAmount')?.setValue(item?.collectedAmount);\r\n      formGroup.get('netAmount')?.disable();\r\n    }\r\n    return formGroup;\r\n  }\r\n  handleCommissionAmountChange(event: any, index: number, row: any) {\r\n    let commissionAmount = event.target.value;\r\n    if (commissionAmount) {\r\n      let amount = row?.cardCollectionJod;\r\n      if (commissionAmount > amount) {\r\n        this.cardsArray.at(index).get('comissionAmount')?.setErrors({ amountExceeded: true });\r\n        return;\r\n      }\r\n      this.cardsArray.at(index).get('netAmount')?.setValue((amount - commissionAmount).toFixed(3));\r\n    }\r\n  }\r\n  handleNetAmountChange(event: any, index: number, row: any) {\r\n    let netAmount = event.target.value;\r\n    if (netAmount) {\r\n      let amount = row?.cardCollectionJod;\r\n      if (netAmount > amount) {\r\n        this.cardsArray.at(index).get('netAmount')?.setErrors({ amountExceeded: true });\r\n        return;\r\n      }\r\n      this.cardsArray.at(index).get('comissionAmount')?.setValue((amount - netAmount).toFixed(3));\r\n    }\r\n  }\r\n  checkAll(event: any) {\r\n    let checked = event.target.checked;\r\n    this.selectedAmount = 0;\r\n    this.reconciliation.forEach((x: any, index: number) => {\r\n      if (checked) {\r\n        this.cardsArray.at(index).get('checked')?.setValue(true);\r\n        this.cardsArray.at(index).get('reconcilationIds')?.setValue(x?.ordersCardsCollectionId);\r\n        this.setValidator('comissionAmount', Validators.required, index);\r\n        this.setValidator('netAmount', Validators.required, index);\r\n        this.setValidator('depositDate', Validators.required, index);\r\n        this.setValidator('bankaccountID', Validators.required, index);\r\n        this.selectedAmount += x.cardCollectionJod\r\n      }\r\n      else {\r\n        this.cardsArray.at(index).get('checked')?.setValue(false);\r\n        this.cardsArray.at(index).get('reconcilationIds')?.setValue(null);\r\n        this.setValidator('comissionAmount', null, index);\r\n        this.setValidator('netAmount', null, index);\r\n        this.setValidator('depositDate', null, index);\r\n        this.setValidator('bankaccountID', null, index);\r\n      }\r\n    })\r\n    this.getNotReturnedCardTransactions()\r\n  }\r\n  handleChangeCheckBox(event: any, item: any, index: number) {\r\n    let checked = event.target.checked;\r\n    if (checked) {\r\n      this.cardsArray.at(index).get('reconcilationIds')?.setValue(item?.ordersCardsCollectionId);\r\n      this.setValidator('comissionAmount', Validators.required, index);\r\n      this.setValidator('netAmount', Validators.required, index);\r\n      this.setValidator('bankaccountID', Validators.required, index);\r\n      this.selectedAmount += item?.cardCollectionJod;\r\n    }\r\n    else {\r\n      this.cardsArray.at(index).get('reconcilationIds')?.setValue(null);\r\n      this.setValidator('comissionAmount', null, index);\r\n      this.setValidator('netAmount', null, index);\r\n      this.setValidator('depositDate', null, index);\r\n      this.setValidator('bankaccountID', null, index);\r\n      this.selectedAmount -= item?.cardCollectionJod;\r\n    }\r\n    this.getNotReturnedCardTransactions()\r\n  }\r\n  setValidator(controlName: string, validator: any, index: number) {\r\n    const control = this.cardsArray.at(index).get(controlName);\r\n    if (control && validator) {\r\n      control.setValidators(validator);\r\n      control.updateValueAndValidity();\r\n    }\r\n    else if (!validator) {\r\n      control?.clearValidators();\r\n      control?.updateValueAndValidity();\r\n    }\r\n  }\r\n  onPostReconcilationIds() {\r\n    let data = this.cardsArray.getRawValue().filter((x: any) => x.checked).map((item: any) => {\r\n      return {\r\n        reconcilationIds: item?.reconcilationIds,\r\n        commission: item?.comissionAmount,\r\n        cardCollectionJodNet: item?.netAmount,\r\n        cardBankDepositDate: item?.depositDate,\r\n        bankaccountID: item?.bankaccountID,\r\n      }\r\n    })\r\n    this.creditcardservice.ReconcilationIds(data).subscribe(result => {\r\n      if (result.isSuccess) {\r\n        this.responseModal('success', `Reconciliation successfully done.`);\r\n        this.fetcAllData();\r\n        this.selectedAmount = 0;\r\n      }\r\n    }, err => {\r\n      this.responseModal('error', err?.error?.errors[0]?.ErrorMessageEn)\r\n    }).add(() => (this.loading = false));\r\n  }\r\n  responseModal(type: any, message: any) {\r\n    const ref = this.modalService.open(MessageModalComponent);\r\n    ref.componentInstance.type = type;\r\n    ref.componentInstance.message = message;\r\n  }\r\n  openmdel() {\r\n    this.modalService.open(this.event, { ariaLabelledBy: 'modal-basic-title' }).result.then(\r\n      (result) => {\r\n        this.closeResult = `Closed with: ${result}`;\r\n      },\r\n      (reason) => {\r\n        this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n      },\r\n    );\r\n  }\r\n  openmdelerroe() {\r\n    this.modalService.open(this.eventerror, { ariaLabelledBy: 'modal-basic-title' }).result.then(\r\n      (result) => {\r\n        this.closeResult = `Closed with: ${result}`;\r\n      },\r\n      (reason) => {\r\n        this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n      },\r\n    );\r\n  }\r\n  private getDismissReason(reason: any): string {\r\n    if (reason === ModalDismissReasons.ESC) {\r\n      return 'by pressing ESC';\r\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n      return 'by clicking on a backdrop';\r\n    } else {\r\n      return `with: ${reason}`;\r\n    }\r\n  }\r\n  selecteddata: any[] = [];\r\n  sortByCardLast4Digits() {\r\n    if (this.sort == 3) this.sort = 1;\r\n    else {\r\n      this.sort = this.sort == 2 ? 3 : 2\r\n    };\r\n    this.fetcAllData();\r\n  }\r\n  sortByProviderName() {\r\n    if (this.sort == 5) this.sort = 1; else this.sort = this.sort == 4 ? 5 : 4;\r\n    this.fetcAllData();\r\n  }\r\n  sortByOrderCollectionId() {\r\n    if (this.sort == 7) this.sort = 1; else this.sort = this.sort == 6 ? 7 : 6;\r\n    this.fetcAllData();\r\n  }\r\n  sortByCollectionAt() {\r\n    if (this.sort == 9) this.sort = 1; else this.sort = this.sort == 8 ? 9 : 8;\r\n    this.fetcAllData();\r\n  }\r\n  sortByBranchName() {\r\n    if (this.sort == 11) this.sort = 1; else this.sort = this.sort == 10 ? 11 : 10;\r\n    this.fetcAllData();\r\n  }\r\n  sortByRegisterName() {\r\n    if (this.sort == 11) this.sort = 1; else this.sort = this.sort == 10 ? 11 : 10;\r\n    this.fetcAllData();\r\n  }\r\n  sortByCardType() {\r\n    if (this.sort == 13) this.sort = 1; else this.sort = this.sort == 12 ? 13 : 12;\r\n    this.fetcAllData();\r\n  }\r\n  sortByCardCollectionJod() {\r\n    if (this.sort == 15) this.sort = 1; else this.sort = this.sort == 14 ? 15 : 14;\r\n    this.fetcAllData();\r\n  }\r\n  onPageChange(page: number) {\r\n    this.page = page;\r\n    this.fetcAllData();\r\n  }\r\n  provider: any[] = [];\r\n  cardlist: any[] = [];\r\n\r\n  modelClose(num: any) {\r\n    if (num == 1) {\r\n      this.modalService.dismissAll();\r\n      this.router.navigate(['credit-card'], { queryParams: { num: 2 } });\r\n    }\r\n    else {\r\n      this.modalService.dismissAll();\r\n\r\n    }\r\n\r\n  }\r\n  erromessage: any\r\n\r\n  validateInput(event: any) {\r\n    const enteredValue = event.target.value;\r\n    const pattern = /^[0-9]*\\.?[0-9]*$/; // Regex pattern to allow numbers and decimal point\r\n    if (!pattern.test(enteredValue)) {\r\n      event.target.value = enteredValue.replace(/[^0-9.]/g, ''); // Remove any invalid characters\r\n    }\r\n  }\r\n}\r\n","<form [formGroup]=\"filterForm\">\r\n  <!--{{filterForm.value | json}}-->\r\n  <div class=\"row\">\r\n    <div class=\"col-3 mb-3\">\r\n      <ng-select class=\"flex-grow-1 mt-3 mt-md-0\"\r\n                 formControlName=\"providerId\"\r\n                 placeholder=\"Provider\" [items]=\"provider\"\r\n                 bindLabel=\"providerName\" bindValue=\"providerId\">\r\n      </ng-select>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <div class=\"input-group\">\r\n        <input type=\"text\"\r\n               placeholder=\"Collection Date\"\r\n               class=\"form-control custom-input-field\"\r\n               formControlName=\"collectionDate\"\r\n               bsDaterangepicker\r\n               [bsConfig]=\"{ containerClass: 'theme-red', isAnimated: true, showClearButton: true,rangeInputFormat : 'MM-DD-YYYY'}\"\r\n               #toDate=\"bsDaterangepicker\">\r\n        <span class=\"input-group-text cursor-pointer\" (click)=\"toDate.toggle()\"><img class=\"calender\" src=\"/assets/images/calendar.png\" alt=\"\" /></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <ng-select class=\"flex-grow-1 mt-3 mt-md-0\"\r\n                 formControlName=\"cardTypeId\"\r\n                 placeholder=\"Search By Card\"\r\n                 [items]=\"cardlist\"\r\n                 bindLabel=\"name.lookupName\"\r\n                 bindValue=\"id\">\r\n      </ng-select>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <div class=\"input-group\">\r\n        <span class=\"input-group-text\"><i class=\"fa-solid fa-search\"></i></span>\r\n        <input type=\"text\" class=\"form-control height-45\" placeholder=\"Net Amount\" formControlName=\"netAmount\" />\r\n        <!--<span class=\"input-group-text\"><i class=\"fa-solid fa-xmark\"></i></span>-->\r\n      </div>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <div class=\"input-group\">\r\n        <span class=\"input-group-text\"><i class=\"fa-solid fa-search\"></i></span>\r\n        <input type=\"text\" class=\"form-control height-45\" placeholder=\"Last 4 Digits\" formControlName=\"last4digits\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <div class=\"input-group\">\r\n        <span class=\"input-group-text\"><i class=\"fa-solid fa-search\"></i></span>\r\n        <input type=\"text\" class=\"form-control height-45\" placeholder=\"Merchant ID\" formControlName=\"machineID\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <ng-select class=\"flex-grow-1 mt-3 mt-md-0\"\r\n                 formControlName=\"branchId\"\r\n                 placeholder=\"Search By Branch\"\r\n                 [items]=\"branchList\"\r\n                 bindLabel=\"branchName\"\r\n                 bindValue=\"branchId\">\r\n      </ng-select>\r\n    </div>\r\n    <div class=\"col-12 mb-3 d-flex justify-content-end\">\r\n      <button class=\"btn btn-add\" (click)=\"filterForm.reset({status:'30001'})\">Clear Filters</button>\r\n    </div>\r\n  </div>\r\n</form>\r\n<div class=\"row mt-2\">\r\n  <div class=\"col-lg-12 text-heading\">\r\n    <h5>Selected Amount: {{selectedAmount | number : '1.3-3'}} JOD</h5>\r\n  </div>\r\n</div>\r\n<div class=\"row mt-2\">\r\n  <div class=\"col-lg-6 text-heading\">\r\n    <h5>Unreconciled Cards Transactions List</h5>\r\n  </div>\r\n  <div class=\"col-lg-5 offset-1\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-9 text-end text-heading\">\r\n\r\n      </div>\r\n      <div class=\"col-lg-3 text-end\">\r\n        <p>Total No. {{total}}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"table-advanced custom-table mt-3\">\r\n    <!--{{cardsArray.getRawValue() | json}}-->\r\n    <form [formGroup]=\"formGroup\">\r\n      <div class=\"table-wrapper table-responsive\">\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">\r\n                <button class=\"btn d-flex gap-2 flex-column align-items-start justify-content-start\" [disabled]=\"reconciliation.length == 0\">\r\n                  Select All\r\n                  <input type=\"checkbox\" class=\"form-check-input input-checkbox\" (change)=\"checkAll($event)\" />\r\n                </button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\" (click)=\"sortByCardLast4Digits()\">\r\n                  Last 4 Digit\r\n                  <i class=\"fa-solid fa-arrow-up-long\" [class.active]=\"sort == 2\"></i>\r\n                  <i class=\"fa-solid fa-arrow-down-long\" [class.active]=\"sort == 3\"></i>\r\n                </button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\">Merchant ID</button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\" (click)=\"sortByProviderName()\">\r\n                  Provider\r\n                  <i class=\"fa-solid fa-arrow-up-long\" [class.active]=\"sort == 4\"></i>\r\n                  <i class=\"fa-solid fa-arrow-down-long\" [class.active]=\"sort == 5\"></i>\r\n                </button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\" (click)=\"sortByOrderCollectionId()\">\r\n                  Invoice\r\n                  <i class=\"fa-solid fa-arrow-up-long\" [class.active]=\"sort == 6\"></i>\r\n                  <i class=\"fa-solid fa-arrow-down-long\" [class.active]=\"sort == 7\"></i>\r\n                </button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\" (click)=\"sortByCollectionAt()\">\r\n                  Date\r\n                  <i class=\"fa-solid fa-arrow-up-long\" [class.active]=\"sort == 8\"></i>\r\n                  <i class=\"fa-solid fa-arrow-down-long\" [class.active]=\"sort == 9\"></i>\r\n                </button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\" (click)=\"sortByBranchName()\">\r\n                  Branch Name\r\n                  <i class=\"fa-solid fa-arrow-up-long\" [class.active]=\"sort == 10\"></i>\r\n                  <i class=\"fa-solid fa-arrow-down-long\" [class.active]=\"sort == 11\"></i>\r\n                </button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\" (click)=\"sortByRegisterName()\">\r\n                  Register Name\r\n                  <i class=\"fa-solid fa-arrow-up-long\" [class.active]=\"sort == 10\"></i>\r\n                  <i class=\"fa-solid fa-arrow-down-long\" [class.active]=\"sort == 11\"></i>\r\n                </button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\" (click)=\"sortByCardType()\">\r\n                  Card Type\r\n                  <i class=\"fa-solid fa-arrow-up-long\" [class.active]=\"sort == 12\"></i>\r\n                  <i class=\"fa-solid fa-arrow-down-long\" [class.active]=\"sort == 13\"></i>\r\n                </button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\" (click)=\"sortByCardCollectionJod()\">\r\n                  Amount\r\n                  <i class=\"fa-solid fa-arrow-up-long\" [class.active]=\"sort == 14\"></i>\r\n                  <i class=\"fa-solid fa-arrow-down-long\" [class.active]=\"sort == 15\"></i>\r\n                </button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\"> Commission Amount</button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\"> Net Amount</button>\r\n              </th>\r\n              <th scope=\"col\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\">Bank Account Name</button>\r\n              </th>\r\n              <th scope=\"col\" width=\"15%\">\r\n                <button class=\"btn\" [disabled]=\"reconciliation.length == 0\">Bank Deposit Date</button>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody formArrayName=\"cardsArray\">\r\n            <tr *ngFor=\"let control of cardsArray.controls;let index=index\" [formGroupName]=\"index\">\r\n              <td>\r\n                <input class=\"form-check-input input-checkbox\" type=\"checkbox\" (change)=\"handleChangeCheckBox($event,reconciliation[index],index)\" formControlName=\"checked\">\r\n              </td>\r\n              <td>{{reconciliation[index]?.cardLast4Digits}}</td>\r\n              <td>{{reconciliation[index]?.machineID || '-'}}</td>\r\n              <td>{{reconciliation[index]?.provider?.providerName}}</td>\r\n              <td>{{reconciliation[index]?.orderCollectionId}}</td>\r\n              <td>{{reconciliation[index]?.collectionAt | date:'mediumDate'}}</td>\r\n              <td>{{reconciliation[index]?.branch?.branchName}}</td>\r\n              <td>{{reconciliation[index]?.register?.registersName}}</td>\r\n              <td>{{reconciliation[index]?.cardType?.translations[0].lookupName}}</td>\r\n              <td>{{reconciliation[index]?.cardCollectionJod | number:'2.3-3'}}</td>\r\n              <!--<td>{{control.value.comissionPercentage}}</td>-->\r\n              <td>\r\n                <input type=\"text\" class=\"form-control\" formControlName=\"comissionAmount\" [ngClass]=\"reconciliation[index]?.isReturn && 'disabled'\"\r\n                       decimalNumber (change)=\"handleCommissionAmountChange($event,index,reconciliation[index])\" />\r\n                <ng-container *ngIf=\"control?.get('comissionAmount')?.errors\">\r\n                  <ng-container *ngIf=\"control?.get('comissionAmount')?.invalid && control?.get('comissionAmount')?.touched || control?.get('comissionAmount')?.dirty\">\r\n                    <span class=\"text-danger\" *ngIf=\"control?.get('comissionAmount')?.errors?.['required']\">Input is required</span>\r\n                    <span class=\"text-danger\" *ngIf=\"control?.get('comissionAmount')?.errors?.['amountExceeded']\">Invalid amount</span>\r\n                  </ng-container>\r\n                </ng-container>\r\n              </td>\r\n              <td>\r\n                <input type=\"text\" class=\"form-control\" formControlName=\"netAmount\" decimalNumber (change)=\"handleNetAmountChange($event,index,reconciliation[index])\" />\r\n                <ng-container *ngIf=\"control?.get('netAmount')?.errors\">\r\n                  <ng-container *ngIf=\"control?.get('netAmount')?.invalid && control?.get('netAmount')?.touched || control?.get('netAmount')?.dirty\">\r\n                    <span class=\"text-danger\" *ngIf=\"control?.get('netAmount')?.errors?.['required']\">Input is required</span>\r\n                    <span class=\"text-danger\" *ngIf=\"control?.get('netAmount')?.errors?.['amountExceeded']\">Invalid amount</span>\r\n                  </ng-container>\r\n                </ng-container>\r\n              </td>\r\n              <td>\r\n                <ng-select placeholder=\"Bank Account\" formControlName=\"bankaccountID\" [items]=\"bankAccountList\"\r\n                           bindLabel=\"accountName\" bindValue=\"accountId\">\r\n                  <ng-template ng-option-tmp let-item=\"item\">\r\n                    {{item?.accountName + '-' + item?.bankNameEnglish + '-' +  item?.accountNumber}}\r\n                  </ng-template>\r\n                </ng-select>\r\n                <validation-error [control]=\"control.get('bankaccountID')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\r\n              </td>\r\n              <td>\r\n                <div class=\"input-group\">\r\n                  <input type=\"text\" formControlName=\"depositDate\"\r\n                         placeholder=\"Select Date\" class=\"form-control custom-input-field\" bsDatepicker\r\n                         [bsConfig]=\"{ containerClass: 'theme-red', isAnimated: true, showClearButton: true }\"\r\n                         #drp=\"bsDatepicker\">\r\n                  <span class=\"input-group-text cursor-pointer\" (click)=\"drp.toggle()\"><img class=\"calender\" src=\"/assets/images/calendar.png\" alt=\"\" /></span>\r\n                </div>\r\n                <ng-container *ngIf=\"control?.get('depositDate')?.errors\">\r\n                  <ng-container *ngIf=\"control?.get('depositDate')?.invalid && control?.get('depositDate')?.touched || control?.get('depositDate')?.dirty\">\r\n                    <span class=\"text-danger\" *ngIf=\"control?.get('depositDate')?.errors?.['required']\">Input is required</span>\r\n                  </ng-container>\r\n                </ng-container>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  <div class=\"col-lg-12 mt-3 text-end\">\r\n    <button class=\"btn btn-cancel me-2\" routerLink=\"/credit-card\">\r\n      <span>Close</span>\r\n    </button>\r\n    <button class=\"btn btn-add me-2\" [disabled]=\"!isReturn\" (click)=\"groupReconciliation()\">Group Reconciliation</button>\r\n    <button class=\"btn btn-add\" [disabled]=\"formGroup.invalid || selectedAmount == 0\" (click)=\"onPostReconcilationIds()\"><span>Post</span></button>\r\n  </div>\r\n</div>\r\n\r\n\r\n<ng-template class=\"modal fade w-100 modal-dialog-centered\" id=\"exampleModalToggle\" aria-hidden=\"true\"\r\n             aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\" #myModal let-modal>\r\n  <div class=\"modal-dialog modal-dialog-centered\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body text-center\">\r\n        <img src=\"../../../assets/svg/check-one.svg\" alt=\"\" srcset=\"\" class=\"mt-4\">\r\n        <h5 class=\"mt-4\">Successfully posted!</h5>\r\n        <p class=\"mt-3 mb-4\">Your reconciliation is created successfully</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template class=\"modal fade w-100 modal-dialog-centered\" id=\"exampleModalToggle\" aria-hidden=\"true\"\r\n             aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\" #myErrorModal let-modal>\r\n  <div class=\"modal-dialog modal-dialog-centered\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body text-center\">\r\n        <img src=\"../../../assets/svg/close-circle.svg\" alt=\"\" srcset=\"\" class=\"mt-2\">\r\n        <h5 class=\"mt-4\">Failed to create reconciliation </h5>\r\n        <p class=\"mt-3 mb-4\">{{this.erromessage}}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n","import { Component } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\nimport { TableColumn, TableConfig } from 'src/app/shared/components/table-advanced';\r\nimport { CreditCardService } from 'src/app/shared/services/credit-card.service';\r\nimport { Subject, debounceTime, distinctUntilChanged, forkJoin, takeUntil } from 'rxjs';\r\nimport { FormControl } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { HeaderService } from 'src/app/shared/services/header.service';\r\nimport { ExportToExcelOptions } from '../../shared/Interfaces/IExcel';\r\nimport { ExcelService } from '../../shared/services/excel.service';\r\nimport { HelperService } from '../../shared/services/helper.service';\r\n@Component({\r\n  selector: 'app-credit-card-list',\r\n  templateUrl: './credit-card-list.component.html',\r\n  styleUrls: ['./credit-card-list.component.scss'],\r\n})\r\nexport class CreditCardListComponent {\r\n  // Form controls for search inputs\r\n  searchChequeText = new FormControl(null);\r\n  machineId = new FormControl(null);\r\n  searchText = new FormControl(null);\r\n  amountchange = new FormControl(null);\r\n  SessionNumberchange = new FormControl(null);\r\n  netamountchange = new FormControl(null);\r\n  unsubscribe = new Subject<void>();\r\n  CommissionRatiochange = new FormControl(0);\r\n\r\n  // Other variables\r\n  datepickerInput: any;\r\n  tableColumns: TableColumn[] = [];\r\n  searchChequeNo: string = '';\r\n  searchCustomerNo: string = '';\r\n  loading = false;\r\n  chequeList: any[] = [];\r\n  dropDownbankId: any[] = [];\r\n  cardlist: any = [];\r\n  branch: any = [];\r\n  register: any = [];\r\n  carddetial: any = [];\r\n  totalAllRecordsCount = 0;\r\n  provider: any;\r\n  cardType: any;\r\n  page = 1;\r\n  total = 0;\r\n  limit = 6;\r\n  sort: number = 1;\r\n  startDate = '';\r\n  tableConfig: TableConfig = {\r\n    paging: true,\r\n    filter: {\r\n      Sort: 1,\r\n      PageSize: this.limit,\r\n    },\r\n  };\r\n  isMachineId = false;\r\n  constructor(\r\n    private _excelService: ExcelService,\r\n    private creditcardservice: CreditCardService,\r\n    public router: Router, private headerService: HeaderService, private _helperService: HelperService) {\r\n\r\n  }\r\n  ngOnInit() {\r\n\r\n    // Set the page title\r\n    this.headerService.setTitle('Credit Cards Payments ');\r\n\r\n    // Initialize table columns\r\n    this.initTableColumns();\r\n\r\n    // Fetch data from APIs\r\n    this.getdata();\r\n    this.gettable();\r\n\r\n    // Subscribe to form control value changes for search inputs\r\n    this.searchChequeText.valueChanges\r\n      .pipe(debounceTime(300), distinctUntilChanged(), takeUntil(this.unsubscribe))\r\n      .subscribe(value => {\r\n        // Update the Last4digits filter and refresh the table\r\n        const text: string = value || '';\r\n        if (text?.length >= 3 || (!text?.length && this.tableConfig.filter.Last4digits?.length)) {\r\n          this.tableConfig.filter.Last4digits = text;\r\n          this.page = 1;\r\n          this.gettable();\r\n        }\r\n      });\r\n    this.machineId.valueChanges\r\n      .pipe(debounceTime(300), distinctUntilChanged(), takeUntil(this.unsubscribe))\r\n      .subscribe(value => {\r\n        // Update the Last4digits filter and refresh the table\r\n        const text: string = value || '';\r\n        if (text?.length >= 3 || (!text?.length && this.tableConfig.filter.machineId?.length)) {\r\n          this.tableConfig.filter.machineId = text;\r\n          this.page = 1;\r\n          this.gettable();\r\n        }\r\n      });\r\n\r\n    this.searchText.valueChanges\r\n      .pipe(debounceTime(300), distinctUntilChanged(), takeUntil(this.unsubscribe))\r\n      .subscribe(value => {\r\n        // Update the MachineReceipt filter and refresh the table\r\n        const text: string = value || '';\r\n        if (\r\n          text?.length >= 3 ||\r\n          (!text?.length && this.tableConfig.filter.MachineReceipt?.length)\r\n        ) {\r\n          this.tableConfig.filter.MachineReceipt = text;\r\n          this.page = 1;\r\n          this.gettable();\r\n        }\r\n      });\r\n    this.amountchange.valueChanges\r\n      .pipe(debounceTime(300), distinctUntilChanged(), takeUntil(this.unsubscribe))\r\n      .subscribe(value => {\r\n        // Update the Amount filter and refresh the table\r\n        const text: string = value || '';\r\n        if (text?.length >= 0 || (!text?.length && this.tableConfig.filter.Amount?.length)) {\r\n          this.tableConfig.filter.Amount = text;\r\n          this.page = 1;\r\n          this.gettable();\r\n        }\r\n      });\r\n\r\n    this.SessionNumberchange.valueChanges\r\n      .pipe(debounceTime(300), distinctUntilChanged(), takeUntil(this.unsubscribe))\r\n      .subscribe(value => {\r\n        // Update the Amount filter and refresh the table\r\n        const text: string = value || '';\r\n        if (text?.length >= 0 || (!text?.length && this.tableConfig.filter.SessionNumber?.length)) {\r\n          let checktext = parseFloat(text);\r\n          if (!isNaN(checktext))\r\n            this.tableConfig.filter.RegisterSessionId = checktext;\r\n          this.page = 1;\r\n          this.gettable();\r\n        }\r\n      });\r\n\r\n    this.netamountchange.valueChanges\r\n      .pipe(debounceTime(300), distinctUntilChanged(), takeUntil(this.unsubscribe))\r\n      .subscribe(value => {\r\n        // Update the NetAmount filter and refresh the table\r\n        const text: string = value || '';\r\n        if (text?.length >= 0 || (!text?.length && this.tableConfig.filter.NetAmount?.length)) {\r\n          this.tableConfig.filter.NetAmount = text;\r\n          this.page = 1;\r\n          this.gettable();\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // Unsubscribe from subscriptions to avoid memory leaks\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n  getCardsForExport() {\r\n    this.loading = true;\r\n    this.tableConfig.filter.PageNo = this.page - 1;\r\n    this.tableConfig.filter.PageSize = 10000;\r\n    this.creditcardservice\r\n      .GetTable(this.tableConfig.filter)\r\n      .subscribe(result => {\r\n        if (result) {\r\n          this.generateExcelExport(result.data);\r\n          this.tableConfig.filter.PageSize = this.limit;\r\n        }\r\n      }).add(() => (this.loading = false));\r\n  }\r\n  async generateExcelExport(data) {\r\n    data = data.map(x => {\r\n      return {\r\n        ...x,\r\n        collectionAt: this._helperService.dateFormate(x?.collectionAt),\r\n        cardBankDepositDate: this._helperService.dateFormate(x?.cardBankDepositDate),\r\n      }\r\n    })\r\n    const exportOptions: ExportToExcelOptions = {\r\n      fileName: 'Card_Transactions',\r\n      mainHeading: '',\r\n      sections: [\r\n        {\r\n          heading: [],\r\n          headerStyle: {\r\n            bold: true, size: 12, color: { argb: 'ff000000' }, fgColor: { argb: 'ffe7e6e6' },\r\n          },\r\n          headers: ['Last 4 Digit', 'Provider', 'Merchant ID', 'Machine Receipt Number', 'Collection Date', 'Branch Name',\r\n            'Ragister Name', 'Card Type', 'Amount', 'Commission Ratio', 'Commission Amount', 'Net Amount', 'Bank Deposit Date',\r\n            'Session Number', 'Status'\r\n          ],\r\n          mainKeyMapping: ['cardLast4Digits', 'provider.providerName', 'machineID', 'machineReceiptNumber', 'collectionAt', 'branch.branchName',\r\n            'register.registersName', 'cardType.translations[0].lookupName', 'cardCollectionJod', 'commissionRatio', 'commissionAmount', 'cardCollectionJodNet',\r\n            'cardBankDepositDate', 'registerSessionId', 'statusObj.translations[0].lookupName',\r\n          ],\r\n          data: data,\r\n        },\r\n      ]\r\n    };\r\n    const result = await this._excelService.exportToExcelJs1(exportOptions);\r\n  }\r\n\r\n  // Initialize table columns\r\n  initTableColumns() {\r\n    this.tableColumns = [\r\n      // Define columns with their keys and labels\r\n      {\r\n        key: 'cardLast4Digits',\r\n        label: 'Last 4 Digit',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'provider',\r\n        label: 'Provider',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'machineID',\r\n        label: 'Merchant ID',\r\n      },\r\n      {\r\n        key: 'machineReceiptNumber',\r\n        label: 'Machine Receipt Number',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'collectionAt',\r\n        label: 'Collection Date',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'branch',\r\n        label: 'Branch Name',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'registers',\r\n        label: 'Ragister Name',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'cardType',\r\n        label: 'Card Type',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'cardCollectionJod',\r\n        label: 'Amount',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'commissionRatio',\r\n        label: 'Commission Ratio',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'commissionAmount',\r\n        label: 'Commission Amount',\r\n      },\r\n      {\r\n        key: 'cardCollectionJodNet',\r\n        label: 'Net Amount',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'cardBankDepositDate',\r\n        label: 'Bank Deposit Date',\r\n      },\r\n      {\r\n        key: 'registerSessionId',\r\n        label: 'Session Number',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'statusObj',\r\n        label: 'Status',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'Action',\r\n        label: 'Action',\r\n        canSort: true,\r\n      },\r\n    ];\r\n  }\r\n\r\n  // Handle table sort change\r\n  onSortChange(sort: any) {\r\n    if (sort?.direction && sort?.column) {\r\n      // Map the sort column to the corresponding filter property\r\n      switch (sort.column) {\r\n        case 'cardLast4Digits':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 3 : 2;\r\n          break;\r\n        case 'provider':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 5 : 4;\r\n          break;\r\n        case 'machineReceiptNumber':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 7 : 6;\r\n          break;\r\n        case 'collectionAt':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 9 : 8;\r\n          break;\r\n        case 'branch':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 11 : 10;\r\n          break;\r\n        case 'registers':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 13 : 12;\r\n          break;\r\n        case 'cardType':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 15 : 14;\r\n          break;\r\n        case 'cardCollectionJod':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 17 : 16;\r\n          break;\r\n        case 'commission':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 19 : 18;\r\n          break;\r\n        case 'cardCollectionJodNet':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 21 : 20;\r\n          break;\r\n        case 'registerSessionId':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 23 : 22;\r\n          break;\r\n        case 'statusObj':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 25 : 24;\r\n          break;\r\n        case 'Action':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 27 : 26;\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    } else {\r\n      this.tableConfig.filter.Sort = 1;\r\n    }\r\n    this.gettable();\r\n  }\r\n\r\n\r\n  // Fetch necessary data from APIs\r\n  getdata() {\r\n    const api1$ = this.creditcardservice.GetProviders({ pageSize: 1000, status: 2001 });\r\n    const api2$ = this.creditcardservice.GetCards();\r\n    const api3$ = this.creditcardservice.GetBranch(this.tableConfig.filter);\r\n    const api4$ = this.creditcardservice.GetRegister(this.tableConfig.filter);\r\n    const api5$ = this.creditcardservice.Getcard();\r\n    forkJoin([api1$, api2$, api3$, api4$, api5$]).subscribe(\r\n      ([result1, result2, result3, result4, result5]) => {\r\n        // Store the fetched data in respective variables\r\n        if (result1) {\r\n          this.provider = result1.data || [];\r\n        }\r\n        if (result2) {\r\n          this.cardlist = result2.data || [];\r\n        }\r\n        if (result3) {\r\n          this.branch = result3.data || [];\r\n        }\r\n        if (result4) {\r\n          this.register = result4.data || [];\r\n        }\r\n        if (result5) {\r\n          this.carddetial = result5.data || [];\r\n        }\r\n      },\r\n      error => {\r\n        console.error(error);\r\n      },\r\n      () => {\r\n        this.loading = false;\r\n      },\r\n    );\r\n  }\r\n\r\n  // Fetch table data\r\n  gettable() {\r\n    this.loading = true;\r\n\r\n    this.tableConfig.filter.PageNo = this.page - 1;\r\n\r\n    this.creditcardservice\r\n      .GetTable(this.tableConfig.filter)\r\n      .subscribe(result => {\r\n        if (result) {\r\n          this.chequeList = result.data;\r\n          this.totalAllRecordsCount = result.totalRecordCount;\r\n          this.total = result.totalRecordCount;\r\n        }\r\n      })\r\n      .add(() => (this.loading = false));\r\n\r\n  }\r\n\r\n\r\n  // Handle table sort change\r\n  onPageChange(page: number) {\r\n    console.log(page);\r\n    this.page = page;\r\n    this.gettable();\r\n  }\r\n  newDropdownbank: any = [];\r\n  removelast4Filter() {\r\n    this.searchChequeText.setValue(null);\r\n    this.tableConfig.filter.Last4digits = '';\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n  removebankFilter() {\r\n    this.newDropdownbank = [];\r\n    this.dropDownbankId = [];\r\n    this.bank = false;\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n\r\n  removeInvoiceFilter() {\r\n    this.searchText.setValue(null);\r\n    this.tableConfig.filter.MachineReceipt = '';\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n\r\n  removeCommissionFilter() {\r\n    this.Commission = false;\r\n    this.CommissionRatiochange.setValue(0);\r\n    this.tableConfig.filter.Commission = '';\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n\r\n  removeAmountFilter() {\r\n    this.amountchange.setValue(null);\r\n    this.tableConfig.filter.Amount = '';\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n  removeMachineIdFilter() {\r\n    this.machineId.setValue(null);\r\n    this.tableConfig.filter.machineId = '';\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n  removeSectionFilter() {\r\n    this.SessionNumberchange.setValue(null);\r\n    this.tableConfig.filter.RegisterSessionId = '';\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n\r\n  removeNetAmountFilter() {\r\n    this.netamountchange.setValue(null);\r\n    this.tableConfig.filter.NetAmount = '';\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n\r\n  removeBranchNameFilter() {\r\n    this.BranchName = false;\r\n    this.branch = '';\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n\r\n  removeRegisterNameFilter() {\r\n    this.RegisterName = false;\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n\r\n  bank: boolean = false;\r\n  dueDate: boolean = false;\r\n  RegisterName: boolean = false;\r\n  BranchName: boolean = false;\r\n  NetAmount: boolean = false;\r\n  Amount: boolean = false;\r\n  SessionNumber: boolean = false;\r\n  Commission: boolean = false;\r\n  Invoice: boolean = false;\r\n  statusId: any;\r\n\r\n\r\n  filterRegisterName(event: any) {\r\n    this.RegisterName = event.checked;\r\n    if (!this.RegisterName) {\r\n      this.RegisterName = false\r\n      delete this.tableConfig.filter.RegisterId;\r\n      this.page = 1;\r\n      this.gettable();\r\n\r\n    }\r\n  }\r\n  filterMachineId(event: any) {\r\n    this.isMachineId = event.checked;\r\n    if (!this.isMachineId) {\r\n      delete this.tableConfig.filter.machineId;\r\n      this.page = 1;\r\n      this.gettable();\r\n    }\r\n  }\r\n  filterBranchName(event: any) {\r\n    this.BranchName = event.checked;\r\n    if (!this.BranchName) {\r\n      this.BranchName = false\r\n      delete this.tableConfig.filter.BranchId;\r\n      this.page = 1;\r\n      this.gettable();\r\n\r\n    }\r\n  }\r\n  filterNetAmount(event: any) {\r\n    this.NetAmount = event.checked;\r\n    if (!this.NetAmount) {\r\n      this.NetAmount = false\r\n      this.netamountchange.setValue(null);\r\n      this.tableConfig.filter.netamountchange = '';\r\n      this.page = 1;\r\n      this.gettable();\r\n    }\r\n  }\r\n  filterAmount(event: any) {\r\n    this.Amount = event.checked;\r\n    if (!this.Amount) {\r\n      this.Amount = false\r\n      this.amountchange.setValue(null);\r\n      this.tableConfig.filter.amountchange = '';\r\n      this.page = 1;\r\n      this.gettable();\r\n    }\r\n  }\r\n  filterSessionNumber(event: any) {\r\n    this.SessionNumber = event.checked;\r\n    if (!this.SessionNumber) {\r\n      this.SessionNumber = false\r\n      this.SessionNumberchange.setValue(null);\r\n      this.tableConfig.filter.RegisterSessionId = '';\r\n      this.page = 1;\r\n      this.gettable();\r\n    }\r\n  }\r\n  filterCommission(event: any) {\r\n    this.Commission = event.checked;\r\n    if (!this.Commission) {\r\n      this.Commission = false\r\n      this.CommissionRatiochange.setValue(null);\r\n      this.tableConfig.filter.Commission = '';\r\n      this.page = 1;\r\n      this.gettable();\r\n    }\r\n  }\r\n  filterInvoice(event: any) {\r\n    this.Invoice = event.checked;\r\n    if (!this.Invoice) {\r\n      this.Invoice = false\r\n      this.searchText.setValue(null);\r\n      this.tableConfig.filter.searchText = '';\r\n      this.page = 1;\r\n      this.gettable();\r\n    }\r\n  }\r\n\r\n  onDateValueChange(event: any) {\r\n    var pipe = new DatePipe('en-US');\r\n    this.startDate = pipe.transform(event) || '';\r\n    console.log(this.startDate);\r\n    if (this.startDate) {\r\n      const fromDate = new Date(this.startDate);\r\n      fromDate.setDate(fromDate.getDate() + 1); // Adding one day\r\n      const formattedFromDate = fromDate.toISOString();\r\n      this.tableConfig.filter.CollectionDate = formattedFromDate;\r\n\r\n    } else\r\n      this.tableConfig.filter.CollectionDate = this.startDate;\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n\r\n  removeCollectionDateFilter() {\r\n    delete this.tableConfig.filter.CollectionDate\r\n    this.page = 1;\r\n    this.datepickerInput = null\r\n    this.gettable();\r\n  }\r\n\r\n  handleCategoryChange(event: any) {\r\n    console.log('bhushan ==>', event.providerId);\r\n\r\n    this.tableConfig.filter.providerId = event.providerId;\r\n    this.page = 1;\r\n    // this.statusId = event?.id;\r\n    this.gettable();\r\n  }\r\n\r\n  handleCategoryChange2(event: any) {\r\n    this.tableConfig.filter.CardTypeId = event.id;\r\n    this.page = 1;\r\n    // this.statusId = event?.id;\r\n    this.gettable();\r\n  }\r\n  newDropdownbranch: any = [];\r\n  dropDownbranchId: any[] = [];\r\n\r\n  handleCategoryChange3(item: any, event: any) {\r\n    const obj4 = item.branchName;\r\n    const branchId = item.branchId;\r\n    if (event.target.checked) {\r\n      // checking if the checkbox has been checked\r\n\r\n      this.newDropdownbranch.push(obj4); // pushing object to newArray[]\r\n      this.dropDownbranchId.push(branchId); // pushing object to newArray[]\r\n    } else {\r\n      this.newDropdownbranch = this.newDropdownbranch.filter(\r\n        (v: any) => v !== obj4\r\n      ); // if the checkbox has been unchecked removing the object from the array\r\n\r\n      this.dropDownbranchId = this.dropDownbranchId.filter(\r\n        (x) => x !== branchId\r\n      );\r\n    }\r\n    this.tableConfig.filter.BranchId = this.dropDownbranchId;\r\n    this.page = 1;\r\n    // this.statusId = event?.id;\r\n    this.gettable();\r\n  }\r\n  removebranchFilter() {\r\n    this.newDropdownbranch = [];\r\n    this.dropDownbranchId = [];\r\n    this.tableConfig.filter.BranchId = [];\r\n    this.BranchName = false;\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n  newDropdownregister: any = [];\r\n  dropDownregisterId: any[] = [];\r\n  handleCategoryChange4(item: any, event: any) {\r\n    const obj4 = item.registersName;\r\n    const id = item.id;\r\n    if (event.target.checked) {\r\n      // checking if the checkbox has been checked\r\n\r\n      this.newDropdownregister.push(obj4); // pushing object to newArray[]\r\n      this.dropDownregisterId.push(id); // pushing object to newArray[]\r\n    } else {\r\n      this.newDropdownregister = this.newDropdownregister.filter(\r\n        (v: any) => v !== obj4\r\n      ); // if the checkbox has been unchecked removing the object from the array\r\n\r\n      this.dropDownregisterId = this.dropDownregisterId.filter(\r\n        (x) => x !== id\r\n      );\r\n    }\r\n    this.tableConfig.filter.RegisterId = this.dropDownregisterId;\r\n    this.page = 1;\r\n    // this.statusId = event?.id;\r\n    this.gettable();\r\n  }\r\n  removeregisterFilter() {\r\n    this.newDropdownregister = [];\r\n    this.dropDownregisterId = [];\r\n    this.tableConfig.filter.RegisterId = [];\r\n    this.RegisterName = false;\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n  onClear() {\r\n    delete this.tableConfig.filter.BranchId;\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n\r\n  onClearR() {\r\n    delete this.tableConfig.filter.RegisterId;\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n  onClearcard() {\r\n    delete this.tableConfig.filter.CardTypeId;\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n  IsPDCFilter(value: any) {\r\n    this.tableConfig.filter.Status = value;\r\n    // this.statusId = event?.id;\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n\r\n  // Navigate to payment details page\r\n  gotopaymentdetails(value: any) {\r\n    this.router.navigate(['credit-card/payment-details'], { queryParams: { ordersCardsCollectionId: value } });\r\n  }\r\n  onClearprovider() {\r\n    delete this.tableConfig.filter.providerId\r\n    this.page = 1;\r\n    this.gettable();\r\n  }\r\n  inputvalue(value: any) {\r\n    let checkPoint = false;\r\n    const inputValue = value?.target?.value;\r\n    if (inputValue && inputValue.includes('.')) {\r\n      const parts = inputValue.split('.');\r\n      if (parts.length === 2 && parts[1].length > 0) {\r\n        if (inputValue === '0.0')\r\n          checkPoint = true;\r\n        else if (inputValue === '0.00')\r\n          checkPoint = true;\r\n        else checkPoint = false;\r\n      } else if (parts.length === 2 && parts[1].length === 0) {\r\n        checkPoint = true;\r\n      } else {\r\n        checkPoint = false;\r\n      }\r\n    }\r\n    if (!checkPoint && parseFloat(inputValue) > 0) {\r\n      this.tableConfig.filter.Commission = parseFloat(inputValue).toFixed(3);\r\n      this.CommissionRatiochange.patchValue(parseFloat(parseFloat(inputValue).toFixed(3)));\r\n      this.page = 1;\r\n      this.sort = 1;\r\n      this.gettable();\r\n    }\r\n    else if (inputValue.includes('-')) {\r\n      this.CommissionRatiochange.patchValue(0);\r\n    }\r\n    else if (isNaN(parseFloat(inputValue))) {\r\n      this.CommissionRatiochange.patchValue(0);\r\n    }\r\n    else if (parseFloat(inputValue) == 0 && !checkPoint) {\r\n      this.CommissionRatiochange.patchValue(0);\r\n    }\r\n  }\r\n  validateInput(event: any) {\r\n    const enteredValue = event.target.value;\r\n    const pattern = /^[0-9]*\\.?[0-9]*$/; // Regex pattern to allow numbers and decimal point\r\n    if (!pattern.test(enteredValue)) {\r\n      event.target.value = enteredValue.replace(/[^0-9.]/g, ''); // Remove any invalid characters\r\n    }\r\n  }\r\n  validateNumberInput(event: any) {\r\n    const enteredValue = event.target.value;\r\n    const pattern = /^[1-9]\\d*$/; // Regex pattern to allow positive integers\r\n    if (!pattern.test(enteredValue)) {\r\n      event.target.value = enteredValue.replace(/[^1-9]/g, ''); // Remove any invalid characters\r\n    }\r\n  }\r\n  validateCommissionInput(event: any) {\r\n    const enteredValue = event.target.value;\r\n    const pattern = /^[1-9]\\d*$/; // Regex pattern to allow positive integers\r\n    if (!pattern.test(enteredValue)) {\r\n      event.target.value = enteredValue.replace(/[^1-9]/g, ''); // Remove any invalid characters\r\n    } else {\r\n      // Check if the value is greater than 100, and if so, set it to 100\r\n      const numericValue = parseInt(enteredValue, 10);\r\n      if (numericValue > 100) {\r\n        event.target.value = '100';\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"card-wrapper\">\r\n  <div class=\"notes-wrapper row\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-3\" *ngFor=\"let item of carddetial\">\r\n        <div class=\"card mb-3\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <img src='{{item.provider.imageFile}}' alt=\"\" srcset=\"\" width=72;>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <span class=\"label\">Total No . {{item.cardsCount}} </span> <br>\r\n              <span class=\"label-txt\">{{item.total | number : '1.3-3' }} JOD</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row mt-2\">\r\n  <div class=\"col-md-10\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-3 col-md-6\">\r\n        <div class=\"input-group search-box\">\r\n          <button class=\"btn\" type=\"button\" id=\"button-addon1\">\r\n            <i class=\"fa-solid fa-search\"></i>\r\n          </button>\r\n          <input type=\"text\" class=\"form-control\" [formControl]=\"searchChequeText\" placeholder=\"Last 4 Digits\" />\r\n          <button class=\"btn\" type=\"button\" id=\"button-addon1\" [hidden]=\"searchChequeText.value == null\"\r\n                  (click)=\"removelast4Filter()\">\r\n            <i class=\"fa-solid fa-xmark\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-3 col-md-6\">\r\n        <div class=\"input-group \">\r\n          <ng-select (clear)=\"onClearprovider()\" (change)=\"handleCategoryChange($event)\"\r\n                     class=\"flex-grow-1 mt-3 mt-md-0\" placeholder=\"Search By Provider Name\" [items]=\"provider\"\r\n                     bindLabel=\"providerName\" [formControl]=\"searchText\" bindValue=\"providerId\">\r\n          </ng-select>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n        <div class=\"input-group \">\r\n          <ng-select (clear)=\"onClearcard()\" (change)=\"handleCategoryChange2($event)\" class=\"flex-grow-1 mt-3 mt-md-0\"\r\n                     placeholder=\"Search By Card Type\" [items]=\"cardlist\" bindLabel=\"name.lookupName\" bindValue=\"id\">\r\n          </ng-select>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n        <div class=\"input-group search-box\">\r\n          <div class=\"dropdown\">\r\n            <button class=\"btn dropdownFilters\" type=\"button\">\r\n              <input [(ngModel)]=\"datepickerInput\" type=\"text\" (bsValueChange)=\"onDateValueChange($event)\"\r\n                     placeholder=\"Select Date\" class=\"form-control\" bsDatepicker #dp=\"bsDatepicker\"\r\n                     [bsConfig]=\"{ containerClass: 'theme-red',isAnimated: true,showClearButton: true}\">\r\n              <img class=\"calender\" src=\"../../../../assets/images/calendar.png\" alt=\"\" (click)=\"dp.toggle()\">\r\n              <!-- <img class=\"down\" src=\"../../../../assets/images/down.png\" alt=\"\"> -->\r\n              <i class=\"fa-regular fa-circle-xmark\" *ngIf=\"datepickerInput\" (click)=\"removeCollectionDateFilter()\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-2\">\r\n    <div class=\"row justify-content-end\">\r\n      <div class=\"col-lg-10 col-md-6 d-flex justify-content-end\">\r\n\r\n        <div class=\"dropdown\">\r\n          <button class=\"btn dropdownButton more-filter-drop\" type=\"button\" id=\"dropdownMenuButton\"\r\n                  data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n            <i class=\"fa-regular fa-plus\"></i> More Filters\r\n          </button>\r\n          <ul class=\"dropdown-menu menu\" aria-labelledby=\"dropdownMenuButton\">\r\n            <li>\r\n              <a class=\"dropdown-item\">\r\n                <input type=\"checkbox\" [(ngModel)]=\"Invoice\" class=\"checkBox\" (change)=\"filterInvoice($event.target)\" />\r\n                &nbsp; Machine Receipt\r\n              </a>\r\n              <a class=\"dropdown-item\">\r\n                <input type=\"checkbox\" [(ngModel)]=\"Commission\" class=\"checkBox\"\r\n                       (change)=\"filterCommission($event.target)\" />\r\n                &nbsp;Commission\r\n              </a>\r\n              <a class=\"dropdown-item\">\r\n                <input type=\"checkbox\" [(ngModel)]=\"Amount\" class=\"checkBox\" (change)=\"filterAmount($event.target)\" />\r\n                &nbsp;Amount\r\n              </a>\r\n              <a class=\"dropdown-item\">\r\n                <input type=\"checkbox\" [(ngModel)]=\"SessionNumber\" class=\"checkBox\"\r\n                       (change)=\"filterSessionNumber($event.target)\" />\r\n                &nbsp;Session Number\r\n              </a>\r\n              <a class=\"dropdown-item\">\r\n                <input type=\"checkbox\" [(ngModel)]=\"NetAmount\" class=\"checkBox\"\r\n                       (change)=\"filterNetAmount($event.target)\" />\r\n                &nbsp;Net Amount\r\n              </a>\r\n              <a class=\"dropdown-item\">\r\n                <input type=\"checkbox\" [(ngModel)]=\"BranchName\" class=\"checkBox\"\r\n                       (change)=\"filterBranchName($event.target)\" />\r\n                &nbsp;Branch Name\r\n              </a>\r\n              <a class=\"dropdown-item\">\r\n                <input type=\"checkbox\" [(ngModel)]=\"RegisterName\" class=\"checkBox\"\r\n                       (change)=\"filterRegisterName($event.target)\" />\r\n                &nbsp;Register Name\r\n              </a>\r\n              <a class=\"dropdown-item\">\r\n                <input type=\"checkbox\" [(ngModel)]=\"isMachineId\" class=\"checkBox\"\r\n                       (change)=\"filterMachineId($event.target)\" />\r\n                &nbsp;Merchant ID\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Deposited Cheques List -->\r\n<div class=\"deposited-cheques-list-tabs\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-7\">\r\n      <div class=\"row mt-2\">\r\n        <div class=\"col-lg-2\">\r\n          <h6>Status</h6>\r\n        </div>\r\n        <div class=\"col-lg-8\">\r\n          <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n            <button type=\"button\" class=\"btn btn-light\">\r\n              <div class=\"form-check\">\r\n                <input class=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"exampleRadios1\" value=\"\" checked\r\n                       (click)=\"IsPDCFilter('')\">\r\n                <label class=\"form-check-label\" for=\"exampleRadios1\">\r\n                  All\r\n                </label>\r\n              </div>\r\n\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-light\">\r\n              <div class=\"form-check\">\r\n                <input class=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"exampleRadios1\" value=\"\"\r\n                       (click)=\"IsPDCFilter(30001)\">\r\n                <label class=\"form-check-label\" for=\"exampleRadios1\">\r\n                  UnReconciled\r\n                </label>\r\n              </div>\r\n\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-light\">\r\n              <div class=\"form-check\">\r\n                <input class=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"exampleRadios2\" value=\"true\"\r\n                       (click)=\"IsPDCFilter(30002)\">\r\n                <label class=\"form-check-label\" for=\"exampleRadios2\">\r\n                  Reconciled\r\n                </label>\r\n              </div>\r\n\r\n            </button>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-5 text-end\">\r\n      <button class=\"btn btn-add\" routerLink=\"/credit-card/reconciliation\">\r\n        <span>Create Reconciliation</span>\r\n      </button>\r\n\r\n    </div>\r\n    <div class=\"col-lg-12\">\r\n      <!-- Clickfilter -->\r\n      <div class=\"filterFlex mt-4\">\r\n        <!-- Invoice -->\r\n        <div class=\"dropdown\" *ngIf=\"Invoice\">\r\n          <div class=\"input-group search-box\">\r\n            <button class=\"btn \" type=\"button\" id=\"button-addon1\">\r\n              <i class=\"fa-solid fa-search\"></i>\r\n            </button>\r\n            <input type=\"text\" class=\"form-control\" [formControl]=\"searchText\" placeholder=\"Machine Receipt Number\" />\r\n\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\" [hidden]=\"searchText.value == null\"\r\n                    (click)=\"removeInvoiceFilter()\">\r\n              <i class=\"fa-solid fa-xmark\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <!-- Commission -->\r\n        <div class=\"dropdown\" *ngIf=\"Commission\">\r\n          <div class=\"input-group search-box\">\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\">\r\n              <i class=\"fa-solid fa-search\"></i>\r\n            </button>\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"Commission\" [formControl]=\"CommissionRatiochange\"\r\n                   (input)=\"inputvalue($event)\" />\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\" [hidden]=\"CommissionRatiochange.value == null\"\r\n                    (click)=\"removeCommissionFilter()\">\r\n              <i class=\"fa-solid fa-xmark\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <!-- Amount -->\r\n        <div class=\"dropdown\" *ngIf=\"Amount\">\r\n          <div class=\"input-group search-box\">\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\">\r\n              <i class=\"fa-solid fa-search\"></i>\r\n            </button>\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"Amount\" [formControl]=\"amountchange\"\r\n                   (input)=\"validateInput($event)\" />\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\" [hidden]=\"amountchange.value == null\"\r\n                    (click)=\"removeAmountFilter()\">\r\n              <i class=\"fa-solid fa-xmark\"></i>\r\n            </button>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"dropdown\" *ngIf=\"SessionNumber\">\r\n          <div class=\"input-group search-box\">\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\">\r\n              <i class=\"fa-solid fa-search\"></i>\r\n            </button>\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"Section No\" [formControl]=\"SessionNumberchange\"\r\n                   (input)=\"validateNumberInput($event)\" />\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\" [hidden]=\"SessionNumberchange.value == null\"\r\n                    (click)=\"removeSectionFilter()\">\r\n              <i class=\"fa-solid fa-xmark\"></i>\r\n            </button>\r\n\r\n          </div>\r\n        </div>\r\n        <!-- Net Amount -->\r\n        <div class=\"dropdown\" *ngIf=\"NetAmount\">\r\n          <div class=\"input-group search-box\">\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\">\r\n              <i class=\"fa-solid fa-search\"></i>\r\n            </button>\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"Net Amount\" [formControl]=\"netamountchange\"\r\n                   (input)=\"validateInput($event)\" />\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\" [hidden]=\"netamountchange.value == null\"\r\n                    (click)=\"removeNetAmountFilter()\">\r\n              <i class=\"fa-solid fa-xmark\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <!-- Branch Name -->\r\n        <div class=\"dropdown\" *ngIf=\"BranchName\">\r\n          <button class=\"btn dropdownFilters\" type=\"button\" id=\"dropdownbranch\" data-bs-toggle=\"dropdown\"\r\n                  aria-expanded=\"false\">\r\n            Branch : <span *ngIf=\"newDropdownbranch.length == 0\">All</span>\r\n\r\n            <div class=\"d-flex\" *ngFor=\"let item of newDropdownbranch\">\r\n              {{ item + \",\" }}\r\n            </div>\r\n            <i class=\"fa-solid fa-chevron-down\"></i>\r\n            <i class=\"fa-regular fa-circle-xmark\" (click)=\"removebranchFilter()\"></i>\r\n          </button>\r\n          <ul class=\"dropdown-menu menu2\" aria-labelledby=\"dropdownbranch\">\r\n            <li>\r\n              <a class=\"dropdown-item\" *ngFor=\"let item of branch; let i = index\">\r\n                <input type=\"checkbox\" class=\"checkBox\" [value]=\"item.branchId\"\r\n                       (change)=\"handleCategoryChange3(item, $event)\" />\r\n                &nbsp; {{ item?.branchName }}\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <!-- <div class=\"input-group \">\r\n            <ng-select (clear)=\"onClear()\" (change)=\"handleCategoryChange3($event)\"\r\n              class=\" \" placeholder=\"Search Branch\" [items]=\"branch\"\r\n              bindLabel=\"branchName\" bindValue=\"branchId\">\r\n            </ng-select>\r\n          </div> -->\r\n        </div>\r\n        <!-- Register Name -->\r\n        <div class=\"dropdown\" *ngIf=\"RegisterName\">\r\n          <button class=\"btn dropdownFilters\" type=\"button\" id=\"dropdownregister\" data-bs-toggle=\"dropdown\"\r\n                  aria-expanded=\"false\">\r\n            Register : <span *ngIf=\"newDropdownregister.length == 0\">All</span>\r\n\r\n            <div class=\"d-flex\" *ngFor=\"let item of newDropdownregister\">\r\n              {{ item + \",\" }}\r\n            </div>\r\n            <i class=\"fa-solid fa-chevron-down\"></i>\r\n            <i class=\"fa-regular fa-circle-xmark\" (click)=\"removeregisterFilter()\"></i>\r\n          </button>\r\n          <ul class=\"dropdown-menu menu2\" aria-labelledby=\"dropdownregister\">\r\n            <li>\r\n              <a class=\"dropdown-item\" *ngFor=\"let item of register; let i = index\">\r\n                <input type=\"checkbox\" class=\"checkBox\" [value]=\"item.id\"\r\n                       (change)=\"handleCategoryChange4(item, $event)\" />\r\n                &nbsp; {{ item?.registersName }}\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <!-- <div class=\"input-group \">\r\n            <ng-select (clear)=\"onClearR()\" (change)=\"handleCategoryChange4($event)\"\r\n              class=\"flex-grow-1 mt-3 mt-md-0 border-0\" placeholder=\"Register Name\" [items]=\"register\"\r\n              bindLabel=\"registersName\" bindValue=\"id\">\r\n            </ng-select>\r\n\r\n          </div> -->\r\n        </div>\r\n        <!-- Amount -->\r\n        <div class=\"dropdown\" *ngIf=\"isMachineId\">\r\n          <div class=\"input-group search-box\">\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon133\">\r\n              <i class=\"fa-solid fa-search\"></i>\r\n            </button>\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"MachineId\" [formControl]=\"machineId\" />\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon133\" [hidden]=\"machineId.value == null\"\r\n                    (click)=\"removeMachineIdFilter()\">\r\n              <i class=\"fa-solid fa-xmark\"></i>\r\n            </button>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n<div class=\"row mt-2\">\r\n  <div class=\"col-lg-12 mb-3 d-flex justify-content-between align-items-center\">\r\n    <h5 class=\"m-0 fw-600\">Cards Transactions List</h5>\r\n    <div class=\"d-flex gap-2 align-items-center\">\r\n      <button class=\"btn btn-success btn-lg font-16\" type=\"button\" (click)=\"getCardsForExport()\"><i class=\"fas fa-file-excel me-2\"></i> Export</button>\r\n      <h6 class=\"m-0 txt-light\">Total No. : {{ this.totalAllRecordsCount }}</h6>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-12\">\r\n    <app-table-advanced [config]=\"tableConfig\" [columns]=\"tableColumns\" [data]=\"chequeList\" [loading]=\"loading\"\r\n                        [page]=\"page\" [total]=\"total\" [limit]=\"limit\" (sortUpdated)=\"onSortChange($event)\"\r\n                        (pageUpdated)=\"onPageChange($event)\">\r\n\r\n\r\n      <ng-template libTableAdvancedColumn=\"provider\" let-row=\"row\">\r\n        {{ row.provider?.providerName}}\r\n      </ng-template>\r\n\r\n      <ng-template libTableAdvancedColumn=\"collectionAt\" let-row=\"row\">\r\n        {{ row?.collectionAt | date}}\r\n      </ng-template>\r\n\r\n      <ng-template libTableAdvancedColumn=\"branch\" let-row=\"row\">\r\n        {{ row.branch?.branchName}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"registers\" let-row=\"row\">\r\n        {{ row.register?.registersName}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"cardType\" let-row=\"row\">\r\n        <div class=\"d-flex flex-column\">\r\n          <span>{{row?.cardType?.translations[0]?.lookupName}}</span>\r\n          <img src=\"{{row.cardType?.lookupImage}}\" alt=\"\" srcset=\"\" width=\"55\">\r\n        </div>\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"cardCollectionJod\" let-row=\"row\">\r\n        {{ row?.cardCollectionJod | number: '1.3-3'}} JOD\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"commissionAmount\" let-row=\"row\">\r\n        {{ row?.commissionAmount && ((row?.commissionAmount | number:'2.3-3') + ' JOD') || '-'}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"commissionRatio\" let-row=\"row\">\r\n        <!--30001 UnReconciled-->\r\n        {{ (row?.statusObj?.lookupId == 30001 && '-') || ((row?.commissionRatio + ' %') || '-')}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"cardCollectionJodNet\" let-row=\"row\">\r\n        <!--30001 UnReconciled-->\r\n        {{ (row?.statusObj?.lookupId == 30001 && '-') || ((row?.cardCollectionJodNet | number: '1.3-3') + ' JOD')}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"cardBankDepositDate\" let-row=\"row\">\r\n        {{ (row?.cardBankDepositDate | date:'mediumDate') || '-'}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"statusObj\" let-row=\"row\">\r\n        <p class=\"collected-btn\" [style.color]=\"row?.statusObj?.lookupTextColor\"\r\n           [style.background-color]=\"row?.statusObj?.lookupBGColor\">\r\n          {{row?.statusObj?.translations?.[0].lookupName}}\r\n        </p>\r\n      </ng-template>\r\n\r\n\r\n      <ng-template libTableAdvancedColumn=\"Action\" let-row=\"row\">\r\n        <i class=\"fa-light fa-eye\" style=\"cursor: pointer;\"\r\n           (click)=\"gotopaymentdetails(row.ordersCardsCollectionId)\"></i>\r\n      </ng-template>\r\n    </app-table-advanced>\r\n\r\n  </div>\r\n</div>\r\n","<div class=\"card-page\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-9\">\r\n            <div class=\"btn-tabs\">\r\n                <button type=\"button\" class=\"btn\" *ngFor=\"let item of depositTypes\"\r\n                    [class.active]=\"item.id === selecteddeposit\" (click)=\"chooseDeposit(item)\">\r\n                    {{ item.name}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-3\" *ngIf=\"selecteddeposit == 2\">\r\n            <p class=\"total-amount\">Total No. {{ totalAllRecordsCount }}</p>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\" *ngIf=\"selecteddeposit == 1\">\r\n      <app-credit-card-list></app-credit-card-list>\r\n    </div>\r\n    <div class=\"row\" *ngIf=\"selecteddeposit == 2\">\r\n      <app-reconciliation-history></app-reconciliation-history>\r\n    </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { HeaderService } from '../../shared/services/header.service';\r\nimport { SidebarService } from '../../shared/services/sidebar.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-credit-cards-payment',\r\n  templateUrl: './credit-cards-payment.component.html',\r\n  styleUrls: ['./credit-cards-payment.component.scss']\r\n})\r\nexport class CreditCardsPaymentComponent {\r\n  selecteddeposit: any = 1;\r\n  depositTypes: any = [];\r\n  totalAllRecordsCount = 0;\r\n\r\n  constructor(\r\n    private headerService: HeaderService,\r\n    private sidebarService: SidebarService,\r\n    private route: ActivatedRoute\r\n  ) {\r\n    this.headerService.selecteddeposit = 1;\r\n    const step = this.route.snapshot.queryParamMap.get('num')\r\n    if (step) {\r\n      this.selecteddeposit =parseInt(step)\r\n    }\r\n    else{\r\n      this.selecteddeposit =1\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.headerService.setTitle('Deposited Cheques > Cheques List ');\r\n    const activeNavLink = this.sidebarService.findNavLink(this.sidebarService.navLinks, 'deposites');\r\n    if (activeNavLink) {\r\n      this.sidebarService.emitEvent({ select: { navLink: activeNavLink, silent: true } });\r\n    }\r\n    this.getdepositTypes();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n  }\r\n  chooseDeposit(deposit: any) {\r\n\r\n    this.selecteddeposit = deposit.id;\r\n  }\r\n  getdepositTypes() {\r\n    this.depositTypes = [\r\n      {\r\n        id: 1,\r\n        name: 'Credit Cards Payments List'\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Reconciliation History'\r\n      },\r\n    ];\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CreditCardsPaymentComponent } from './credit-cards-payment/credit-cards-payment.component';\r\nimport { CreateReconciliationComponent } from './create-reconciliation/create-reconciliation.component';\r\nimport { ReconciliationDetailsComponent } from './reconciliation-details/reconciliation-details.component';\r\nimport { PaymentDetailViewComponent } from './payment-detail-view/payment-detail-view.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CreditCardsPaymentComponent,\r\n  },\r\n  {\r\n    path:'reconciliation',\r\n    component: CreateReconciliationComponent,\r\n  },\r\n  {\r\n    path:'reconciliation-details',\r\n    component: ReconciliationDetailsComponent,\r\n  },\r\n  {\r\n\r\n    path: 'payment-details',\r\n\r\n    component: PaymentDetailViewComponent\r\n\r\n  }\r\n  // { path: 'detail/:id', component: DepositChequeDetailComponent },\r\n  // { path: 'replace', component: ReplaceChequeComponent },\r\n  // { path: 'replace-view', component: ReplacedChequeDetailViewComponent },\r\n  //   { path: 'view-branch/:id', component: AddBranchComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CreditCardsRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { GoogleMapsModule } from '@angular/google-maps';\r\nimport { HttpClientModule, HttpClientJsonpModule } from '@angular/common/http';\r\n\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { MaxCharactersDirective } from '../shared/directives/max-characters.directive';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CreditCardsRoutingModule } from './credit-cards-routing.module';\r\nimport { CreditCardListComponent } from './credit-card-list/credit-card-list.component';\r\nimport { CreateReconciliationComponent } from './create-reconciliation/create-reconciliation.component';\r\nimport { ReconciliationHistoryComponent } from './reconciliation-history/reconciliation-history.component';\r\nimport { ReconciliationDetailsComponent } from './reconciliation-details/reconciliation-details.component';\r\nimport { CreditCardsPaymentComponent } from './credit-cards-payment/credit-cards-payment.component';\r\nimport { NgChartsModule } from 'ng2-charts';\r\nimport { NgbModule, NgbPaginationModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { PaymentDetailViewComponent } from './payment-detail-view/payment-detail-view.component';\r\nimport { GroupReconciliationComponent } from './create-reconciliation/components/group-reconciliation/group-reconciliation.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CreditCardListComponent,\r\n    CreateReconciliationComponent,\r\n    ReconciliationHistoryComponent,\r\n    ReconciliationDetailsComponent,\r\n    CreditCardsPaymentComponent,\r\n    PaymentDetailViewComponent,\r\n    GroupReconciliationComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    CreditCardsRoutingModule,\r\n    GoogleMapsModule,\r\n    HttpClientModule,\r\n    HttpClientJsonpModule,\r\n    SharedModule,\r\n    NgChartsModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgbModule,\r\n  ],\r\n})\r\nexport class CreditCardsModule { }\r\n\r\n","import { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TableConfig } from 'src/app/shared/components/table-advanced';\r\nimport { CreditCardService } from 'src/app/shared/services/credit-card.service';\r\nimport { DatePipe } from '@angular/common';\r\nimport { HeaderService } from 'src/app/shared/services/header.service';\r\n@Component({\r\n  selector: 'app-payment-detail-view',\r\n  templateUrl: './payment-detail-view.component.html',\r\n  styleUrls: ['./payment-detail-view.component.scss']\r\n})\r\nexport class PaymentDetailViewComponent {\r\n\r\n  lookupname: any;\r\n  lookupcolor: any;\r\n  lookupTextColor: any;\r\n\r\n  constructor(private route: ActivatedRoute, \r\n    private creditcardservice: CreditCardService,\r\n    private headerService: HeaderService,\r\n    public router: Router) {\r\n\r\n    const step = this.route.snapshot.queryParamMap.get('ordersCardsCollectionId')\r\n    if (step) {\r\n      this.tableConfig.filter.OrdersCardsCollectionId = step\r\n    }\r\n  }\r\n  ngOnInit(): void {\r\n    this.headerService.setTitle('Credit Cards Payments > Payment Details View');\r\n    this.getdetial()\r\n  }\r\n\r\n  data: any\r\n  extractedTime: any\r\n  extractedDate: any\r\n  date1: any\r\n  loading = false;\r\n  tableConfig: TableConfig = {\r\n    paging: true,\r\n    filter: {\r\n    },\r\n  };\r\n\r\n  extractedTimesettled:any\r\n  extractedDatesettled:any\r\n\r\n  getdetial() {\r\n    this.creditcardservice\r\n      .getCardsCollectionDetial(this.tableConfig.filter)\r\n      .subscribe(result => {\r\n        if (result) {\r\n          this.data = result\r\n          const dateString = result.collectionAt;\r\n          const datetimesettled = result.settledAt\r\n          const date = new Date(dateString);\r\n          const datesettled = new Date(datetimesettled);\r\n          this.extractedDate = date.toLocaleDateString()\r\n          this.extractedTime = date.toLocaleTimeString();\r\n          this.extractedDatesettled = datesettled.toLocaleDateString()\r\n          this.extractedTimesettled = datesettled.toLocaleTimeString();\r\n          this.lookupname=result.statusObj.translations[0].lookupName;\r\n          this.lookupcolor=result.statusObj.lookupBGColor;\r\n          this.lookupTextColor=result.statusObj.lookupTextColor;\r\n        }\r\n      })\r\n      .add(() => (this.loading = false));\r\n  }\r\n\r\n  close(){\r\n    this.router.navigate(['credit-card']  );\r\n  }\r\n}\r\n","<div class=\"cr-card\">\r\n  <div class=\"wizard-content\">\r\n    <div class=\"top-heading\">\r\n      <h5>\r\n        Customer Name: <span>{{ data?.customer?.customerName }}</span>\r\n      </h5>\r\n      <p class=\"btn-light collected-btn\" [ngStyle]=\"{ 'background-color': lookupcolor ,'color': lookupTextColor }\">{{lookupname}}</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"wizard-content\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-4 col-md-6 filterFlex\">\r\n        <label><b>Paid Amount</b></label>\r\n        <div class=\"form-group input-group search-box p-3\">\r\n          {{ (data?.cardCollectionJod | number) ? (data?.cardCollectionJod | number : '1.3-3') + ' JOD' : '-' }}\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-4 col-md-6 filterFlex\">\r\n        <label><b>Card Type</b></label>\r\n        <div class=\"input-group search-box p-3\">\r\n          <img src=\"{{ data?.cardType?.lookupImage || '' }}\" alt=\"\" width=\"35\" class=\"me-3\" />\r\n          {{ data?.cardType?.translations[0]?.lookupName || '-' }}\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-4 col-md-6 filterFlex\">\r\n        <label><b>Last 4 digits of the card</b></label>\r\n        <div class=\"input-group search-box p-3\">\r\n          {{ data?.cardLast4Digits || '-' }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row mt-2\">\r\n      <div class=\"col-lg-4 col-md-6 filterFlex\">\r\n        <label><b>Payer name</b></label>\r\n        <div class=\"form-group input-group search-box p-3\">\r\n          {{ data?.cardPayerName || '-' }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-lg-4 col-md-6 filterFlex\">\r\n        <label><b>Machine Receipt No.</b></label>\r\n        <div class=\"input-group search-box p-3\">\r\n          {{ data?.machineReceiptNumber || '-' }}\r\n        </div>\r\n      </div>\r\n      <div class=\"col-2 filterFlex\">\r\n        <label><b>Merchant ID</b></label>\r\n        <div class=\"input-group search-box p-3\">\r\n          {{ data?.machineID || '-' }}\r\n        </div>\r\n      </div>\r\n      <div class=\"col-2 filterFlex\">\r\n        <label><b>Bank Deposit Date</b></label>\r\n        <div class=\"input-group search-box p-3\">\r\n          {{ (data?.cardBankDepositDate | date:'mediumDate') || '-' }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row mt-2\">\r\n      <div class=\"col-lg-4 col-md-6 filterFlex\">\r\n        <label><b>Terminal Provider</b></label>\r\n        <div class=\"form-group input-group search-box p-3\">\r\n          <img src=\"{{ data?.provider?.imageFile || '' }}\" alt=\"\" width=\"35\" class=\"me-3\" />\r\n          {{ data?.provider?.providerName || '-' }}\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-4 col-md-6 filterFlex\">\r\n        <label><b>Commission Ratio</b></label>\r\n        <div class=\"input-group search-box p-3\">\r\n          {{ data?.statusObj?.lookupId == 30001 && '-' || (data?.commissionRatio &&  data?.commissionRatio + ' %' || '-') }}\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-4 col-md-6 filterFlex\">\r\n        <label><b>Net Amount</b></label>\r\n        <div class=\"input-group search-box p-3\">\r\n          <!--{{ (data?.cardCollectionJodNet | number : '1.3-3') + ' JOD' || '-' }}-->\r\n          {{ data?.statusObj?.lookupId == 30001 && '-' || (data?.cardCollectionJodNet &&  (data?.cardCollectionJodNet | number:'2.3-3') + ' JOD' || '-') }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-md-6\">\r\n    <div class=\"cr-card\">\r\n      <div class=\"wizard-content\">\r\n        <div class=\"top-heading\">\r\n          <h5>Collection Details</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row mb-4\">\r\n        <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n          <label><b>Branch</b></label>\r\n          <div class=\"form-group input-group\">\r\n            {{ data?.branch?.branchName || '-' }}\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n          <label><b>Register Name</b></label>\r\n          <div class=\"input-group\">\r\n            {{ data?.register?.registersName || '-' }}\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n          <label><b>Register No.</b></label>\r\n          <div class=\"input-group\">\r\n            {{ data?.register?.registerId || '-' }}\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n          <label><b>Session No.</b></label>\r\n          <div class=\"input-group\">\r\n            {{ data?.registerSessionId || '-' }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <h5><b>Registered By</b></h5>\r\n\r\n      <div class=\"row my-2\">\r\n        <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n          <label><b>Employee</b></label>\r\n          <div class=\"form-group input-group\">\r\n            {{ data.collectedBy?.fullName || '-' }}\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n          <label><b>Date</b></label>\r\n          <div class=\"input-group\">\r\n            {{ data.collectionAt | date : 'dd MMM yyyy' }}\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n          <label><b>Time</b></label>\r\n          <div class=\"input-group\">\r\n            {{ data.collectionAt | date : 'h:mm a' }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-6\">\r\n    <div class=\"cr-card\">\r\n      <div class=\"wizard-content\">\r\n        <div class=\"top-heading\">\r\n          <h5>Settlement Details</h5>\r\n        </div>\r\n\r\n        <h5 class=\"my-5\"><b>Settled By</b></h5>\r\n\r\n        <div class=\"row my-2\">\r\n          <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n            <label><b>Employee</b></label>\r\n            <div class=\"form-group input-group\">\r\n              {{ data?.settledBy?.fullName || '-' }}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n            <label><b>Date</b></label>\r\n            <div class=\"input-group\">\r\n              {{ data.settledAt | date : 'dd MMM yyyy' }}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n            <label><b>Time</b></label>\r\n            <div class=\"input-group\">\r\n              {{ data.settledAt | date : 'h:mm a' }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-11\"></div>\r\n\r\n    <div class=\"col-md-1\">\r\n      <div class=\"btns-group\">\r\n        <button type=\"button\" class=\"btn btn-cancel\" (click)=\"close()\">Close</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\nimport { TableColumn, TableConfig } from 'src/app/shared/components/table-advanced';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CreditCardService } from 'src/app/shared/services/credit-card.service';\r\nimport {\r\n  Subject, debounceTime, distinctUntilChanged, takeUntil, forkJoin\r\n} from 'rxjs';\r\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { HeaderService } from 'src/app/shared/services/header.service';\r\nimport { HelperService } from '../../shared/services/helper.service';\r\n@Component({\r\n  selector: 'app-reconciliation-details',\r\n  templateUrl: './reconciliation-details.component.html',\r\n  styleUrls: ['./reconciliation-details.component.scss']\r\n})\r\nexport class ReconciliationDetailsComponent {\r\n  searchChequeText = new FormControl(null);\r\n  searchText = new FormControl(null);\r\n  unsubscribe = new Subject<void>();\r\n  datepickerInput: any;\r\n  tableColumns: TableColumn[] = [];\r\n  searchChequeNo: string = '';\r\n  searchCustomerNo: string = '';\r\n  loading = false;\r\n  chequeList: any[] = [];\r\n  cardlist: any[] = [];\r\n  branchList: any[] = [];\r\n  page = 1;\r\n  total = 0;\r\n  limit = 6;\r\n  sort: number = 1;\r\n  startDate = '';\r\n  tableConfig: TableConfig = {\r\n    paging: true,\r\n    filter: {\r\n      Sort: 1,\r\n      PageSize: this.limit,\r\n    },\r\n  };\r\n  provider: any;\r\n  reconsilationstepid: any;\r\n  reconciliation: any;\r\n  filterForm!: FormGroup;\r\n  filterParams = '';\r\n  cardsData: any;\r\n  constructor(private route: ActivatedRoute,\r\n    private fb: FormBuilder,\r\n    private creditcardservice: CreditCardService,\r\n    private _helperService: HelperService,\r\n    private _datePipe: DatePipe,\r\n    private headerService: HeaderService) {\r\n    const step = this.route.snapshot.queryParamMap.get('reconciliationHistoryid')\r\n    if (step) {\r\n      this.reconsilationstepid = step\r\n    }\r\n  }\r\n  ngOnInit() {\r\n    this.headerService.setTitle('Reconciliation History > Reconciliation Details');\r\n    this.getData();\r\n    this.initFilterForm();\r\n    this.initTableColumns();\r\n    this.GetReconciliationTable(this.reconsilationstepid);\r\n    this.getDetails();\r\n  }\r\n  initFilterForm() {\r\n    this.filterForm = this.fb.group({\r\n      providerId: [null],\r\n      collectionDate: [''],\r\n      depositDate: [''],\r\n      cardTypeId: [null],\r\n      last4digits: [''],\r\n      machineID: [''],\r\n      branchId: [null],\r\n      reconciliationId: [this.reconsilationstepid],\r\n    })\r\n    this.filterForm.valueChanges.pipe(debounceTime(500)).subscribe(data => {\r\n      this.page = 1;\r\n      let formValues = this._helperService.trim(data);\r\n      if (formValues?.collectionDate) {\r\n        formValues = {\r\n          ...formValues,\r\n          collectionDateFrom: this._datePipe.transform(formValues.collectionDate[0], 'yyyy-MM-dd'),\r\n          collectionDateTo: this._datePipe.transform(formValues.collectionDate[1], 'yyyy-MM-dd')\r\n        };\r\n        delete formValues.collectionDate;\r\n      }\r\n      if (formValues?.depositDate) {\r\n        formValues = {\r\n          ...formValues,\r\n          bankDepositDateFrom: this._datePipe.transform(formValues.depositDate[0], 'yyyy-MM-dd'),\r\n          bankDepositDateTo: this._datePipe.transform(formValues.depositDate[1], 'yyyy-MM-dd')\r\n        };\r\n        delete formValues.depositDate;\r\n      }\r\n      this.filterParams = new URLSearchParams(formValues).toString();\r\n      this.getDetails();\r\n    })\r\n  }\r\n  resetFilterForm() {\r\n    this.filterForm.reset({ reconciliationId: this.reconsilationstepid });\r\n  }\r\n  getDetails() {\r\n    let params = '';\r\n    if (this.filterParams)\r\n      params = `${this.filterParams}&pageSize=6&pageNo=${this.page - 1}&sort=${this.sort}`\r\n    else\r\n      params = `reconciliationId=${this.reconsilationstepid}&pageSize=6&pageNo=${this.page - 1}&sort=${this.sort}`\r\n    this.creditcardservice.ReconciledTransactionsList(params).subscribe(response => {\r\n      this.chequeList = response.data\r\n      this.total = response.totalRecordCount;\r\n      this.cardsData = response.info\r\n\r\n    })\r\n  }\r\n  getData() {\r\n    const api1$ = this.creditcardservice.GetProviders({ pageSize: 1000, status: 2001 });\r\n    const api2$ = this.creditcardservice.GetCards();\r\n    const branch$ = this.creditcardservice.GetBranch({});\r\n    forkJoin([api1$, api2$, branch$]).subscribe(\r\n      ([result1, result2, branch]) => {\r\n        this.provider = result1.data;\r\n        this.cardlist = result2.data;\r\n        this.branchList = branch.data;\r\n      },\r\n      (error) => {\r\n      }, () => { this.loading = false; });\r\n  }\r\n  initTableColumns() {\r\n    this.tableColumns = [\r\n      {\r\n        key: 'No',\r\n        label: 'No.',\r\n        canSort: false,\r\n      },\r\n      {\r\n        key: 'cardLast4Digits',\r\n        label: 'Last 4 Digit',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'provider',\r\n        label: 'Provider',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'machineID',\r\n        label: 'Merchant ID',\r\n      },\r\n      {\r\n        key: 'machineReceiptNumber',\r\n        label: 'Machine Receipt Number',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'collectionAt',\r\n        label: 'Collection Date',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'branch',\r\n        label: 'Branch Name',\r\n        canSort: true,\r\n      },\r\n\r\n      {\r\n        key: 'register',\r\n        label: 'Register Name',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'cardType',\r\n        label: 'Card Type',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'cardCollectionJod',\r\n        label: 'Amount',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'commissionRatio',\r\n        label: 'Commission Ratio',\r\n      },\r\n      {\r\n        key: 'commissionAmount',\r\n        label: 'Commission Amount',\r\n      },\r\n      {\r\n        key: 'cardCollectionJodNet',\r\n        label: 'Net Amount:',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'bankDepositAccount',\r\n        label: 'Bank Deposit Account',\r\n      },\r\n      {\r\n        key: 'cardBankDepositDate',\r\n        label: 'Bank Deposit Date',\r\n      },\r\n    ];\r\n  }\r\n  onSortChange(sort: any) {\r\n    if (sort?.direction && sort?.column) {\r\n      switch (sort.column) {\r\n        // case 'No':\r\n        //   this.tableConfig.filter.Sort = sort.direction === 'desc' ? 3 : 2;\r\n        //   break;\r\n        case 'cardLast4Digits':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 3 : 2;\r\n          break;\r\n        case 'reconciliationDetailId':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 5 : 4;\r\n          break;\r\n        case 'provider':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 7 : 6;\r\n          break;\r\n        case 'machineReceiptNumber':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 9 : 8;\r\n          break;\r\n\r\n        case 'collectionAt':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 11 : 10;\r\n          break;\r\n        case 'branch':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 13 : 12;\r\n          break;\r\n        case 'register':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 15 : 14;\r\n          break;\r\n        case 'cardType':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 17 : 16;\r\n          break;\r\n        case 'cardCollectionJod':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 19 : 18;\r\n          break;\r\n        case 'cardCollectionJodNet':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 21 : 20;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    } else {\r\n      this.tableConfig.filter.Sort = 1;\r\n    }\r\n    this.GetReconciliationTable(this.reconsilationstepid)\r\n  }\r\n\r\n  onPageChange(page: number) {\r\n    this.page = page;\r\n    this.getDetails();\r\n  }\r\n  extractedTime: any;\r\n  GetReconciliationTable(id: any) {\r\n    this.tableConfig.filter.PageNo = this.page - 1;\r\n    this.tableConfig.filter.ReconciliationId = parseInt(id)\r\n    const api1$ = this.creditcardservice.GetReconciliationHistory(this.tableConfig.filter);\r\n    forkJoin([api1$]).subscribe(\r\n      ([result1]) => {\r\n        if (result1) {\r\n          this.reconciliation = result1.data\r\n          this.extractedTime = this.reconciliation[0]?.createdAt;\r\n        }\r\n      })\r\n  }\r\n}\r\n\r\n","<div class=\"row mt-2\">\r\n  <div class=\"col-lg-12 text-heading\">\r\n    <h5 class=\"mb-3\">Reconciliation Details</h5>\r\n  </div>\r\n  <div class=\"col-12 mb-4\">\r\n    <div class=\"row\">\r\n      <div class=\"col-3\">\r\n        <div class=\"rh-card\">\r\n          <h6>Reconciliation Amount</h6>\r\n          <h6><b>{{cardsData?.totalReconciliationAmount | number:'2.3-3'}}</b> JOD</h6>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-3\">\r\n        <div class=\"rh-card\">\r\n          <h6>Commission Amount</h6>\r\n          <h6><b>{{cardsData?.totalCommissionAmount | number:'2.3-3'}}</b> JOD</h6>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-3\">\r\n        <div class=\"rh-card\">\r\n          <h6>Net Amount</h6>\r\n          <h6><b>{{cardsData?.totalNetAmount | number:'2.3-3'}}</b> JOD</h6>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-3\">\r\n    <label class=\"mb-1 label\">Created by:</label>\r\n    <p class=\"P-light\">{{ reconciliation && reconciliation[0]?.createdBy.fullName ? reconciliation[0]?.createdBy.fullName : '-' }}</p>\r\n  </div>\r\n\r\n  <div class=\"col-md-3\">\r\n    <label class=\"mb-1 label\">Date:</label>\r\n    <p class=\"P-light\">{{ reconciliation && reconciliation[0]?.createdAt ? (reconciliation[0]?.createdAt | date :'dd MMM yyyy') : '-' }}</p>\r\n  </div>\r\n\r\n  <div class=\"col-md-3\">\r\n    <label class=\"mb-1 label\">Time:</label>\r\n    <p class=\"P-light\">{{ extractedTime | date : 'shortTime' }}</p>\r\n  </div>\r\n\r\n  <div class=\"col-md-3\" *ngIf=\"reconciliation\">\r\n    <label class=\"mb-1 label\">Reconciliation Amount:</label>\r\n    <p class=\"P-light\">{{ reconciliation[0]?.totalAmount | number : '1.3-3'}} JOD</p>\r\n  </div>\r\n\r\n  <div class=\"col-md-3\" *ngIf=\"reconciliation\">\r\n    <label class=\"mb-1 label\">Reconciliation Net Amount:</label>\r\n    <p class=\"P-light\">{{ reconciliation[0]?.totalNetAmount | number : '1.3-3' }} JOD</p>\r\n  </div>\r\n\r\n  <div class=\"col-md-3\">\r\n    <label class=\"mb-1 label\">Reconciliation Number:</label>\r\n    <p class=\"P-light\">{{ reconciliation && reconciliation[0]?.reconciliationHistoryId ? reconciliation[0]?.reconciliationHistoryId : '-' }}</p>\r\n  </div>\r\n</div>\r\n<form [formGroup]=\"filterForm\">\r\n  <!--{{filterForm.value | json}}-->\r\n  <div class=\"row\">\r\n    <div class=\"col-3 mb-3\">\r\n      <div class=\"input-group\">\r\n        <span class=\"input-group-text\"><i class=\"fa-solid fa-search\"></i></span>\r\n        <input type=\"text\" class=\"form-control height-45\" placeholder=\"Last 4 Digits\" formControlName=\"last4digits\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <ng-select class=\"flex-grow-1 mt-3 mt-md-0\"\r\n                 formControlName=\"providerId\"\r\n                 placeholder=\"Provider\" [items]=\"provider\"\r\n                 bindLabel=\"providerName\" bindValue=\"providerId\">\r\n      </ng-select>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <div class=\"input-group\">\r\n        <input type=\"text\"\r\n               placeholder=\"Collection Date\"\r\n               class=\"form-control custom-input-field\"\r\n               formControlName=\"collectionDate\"\r\n               bsDaterangepicker\r\n               [bsConfig]=\"{ containerClass: 'theme-red', isAnimated: true, showClearButton: true,rangeInputFormat : 'MM-DD-YYYY'}\"\r\n               #toDate=\"bsDaterangepicker\">\r\n        <span class=\"input-group-text cursor-pointer\" (click)=\"toDate.toggle()\"><img class=\"calender\" src=\"/assets/images/calendar.png\" alt=\"\" /></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <ng-select class=\"flex-grow-1 mt-3 mt-md-0\"\r\n                 formControlName=\"branchId\"\r\n                 placeholder=\"Search By Branch\"\r\n                 [items]=\"branchList\"\r\n                 bindLabel=\"branchName\"\r\n                 bindValue=\"branchId\">\r\n      </ng-select>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <div class=\"input-group\">\r\n        <input type=\"text\"\r\n               placeholder=\"Deposit Date\"\r\n               class=\"form-control custom-input-field\"\r\n               formControlName=\"depositDate\"\r\n               bsDaterangepicker\r\n               [bsConfig]=\"{ containerClass: 'theme-red', isAnimated: true, showClearButton: true,rangeInputFormat : 'MM-DD-YYYY'}\"\r\n               #depositDate=\"bsDaterangepicker\">\r\n        <span class=\"input-group-text cursor-pointer\" (click)=\"depositDate.toggle()\"><img class=\"calender\" src=\"/assets/images/calendar.png\" alt=\"\" /></span>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <ng-select class=\"flex-grow-1 mt-3 mt-md-0\"\r\n                 formControlName=\"cardTypeId\"\r\n                 placeholder=\"Search By Card\"\r\n                 [items]=\"cardlist\"\r\n                 bindLabel=\"name.lookupName\"\r\n                 bindValue=\"id\">\r\n      </ng-select>\r\n    </div>\r\n    <div class=\"col-3 mb-3\">\r\n      <div class=\"input-group\">\r\n        <span class=\"input-group-text\"><i class=\"fa-solid fa-search\"></i></span>\r\n        <input type=\"text\" class=\"form-control height-45\" placeholder=\"Merchant ID\" formControlName=\"machineID\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"col-12 mb-3 d-flex justify-content-end\">\r\n      <button class=\"btn btn-add\" (click)=\"resetFilterForm()\">Clear Filters</button>\r\n    </div>\r\n  </div>\r\n</form>\r\n<div class=\"row mt-2\">\r\n  <div class=\"col-lg-12 text-heading mt-2\">\r\n    <h5>Reconciled Transactions List</h5>\r\n    <h6 class=\"text-end\">Total No. : {{total}}</h6>\r\n  </div>\r\n  <div class=\"col-lg-12 mt-4\">\r\n    <app-table-advanced [config]=\"tableConfig\" [columns]=\"tableColumns\" [data]=\"chequeList\" [loading]=\"loading\"\r\n                        [page]=\"page\" [total]=\"total\" [limit]=\"limit\" (sortUpdated)=\"onSortChange($event)\"\r\n                        (pageUpdated)=\"onPageChange($event)\">\r\n      <ng-template libTableAdvancedColumn=\"No\" let-row=\"row\" let-index=\"index\">\r\n        {{ index + 1 }}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"collectionAt\" let-row=\"row\">\r\n        {{ row?.collectionAt | date :'dd MMM yyyy'}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"provider\" let-row=\"row\">\r\n        {{ row.provider?.providerName}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"branch\" let-row=\"row\">\r\n        {{ row.branch?.branchName}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"register\" let-row=\"row\">\r\n        {{ row.register?.registersName}}\r\n      </ng-template>\r\n\r\n      <ng-template libTableAdvancedColumn=\"cardCollectionJod\" let-row=\"row\">\r\n        {{ row?.cardCollectionJod | number : '1.3-3'}} JOD\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"commissionRatio\" let-row=\"row\">\r\n        {{ (row?.commissionRatio + ' %') || '-'}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"commissionAmount\" let-row=\"row\">\r\n        {{ ((row?.commissionAmount | number: '1.3-3') + ' JOD') || '-'}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"cardCollectionJodNet\" let-row=\"row\">\r\n        {{ row?.cardCollectionJodNet | number : '1.3-3'}} JOD\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"bankDepositAccount\" let-row=\"row\">\r\n        {{row?.bank?.bankNameEnglish + ' - ' + row?.bank?.accountName +  ' - ' + row?.bank?.accountNumber}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"cardBankDepositDate\" let-row=\"row\">\r\n        {{ (row?.cardBankDepositDate | date:'mediumDate') || '-'}}\r\n      </ng-template>\r\n      <ng-template libTableAdvancedColumn=\"cardType\" let-row=\"row\">\r\n        <div class=\"d-flex flex-column\">\r\n          <span>{{row?.cardType?.translations[0]?.lookupName}}</span>\r\n          <img src=\"{{row.cardType?.lookupImage}}\" alt=\"\" srcset=\"\" width=\"55\">\r\n        </div>\r\n      </ng-template>\r\n    </app-table-advanced>\r\n\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subject, debounceTime, distinctUntilChanged, forkJoin, takeUntil } from 'rxjs';\r\nimport { TableColumn, TableConfig } from 'src/app/shared/components/table-advanced';\r\nimport { DepositService } from 'src/app/shared/services/deposit.service';\r\n// import { Category, Users, depositChequeList } from '../data';\r\nimport { DatePipe } from '@angular/common';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormControl } from '@angular/forms';\r\nimport { CreditCardService } from 'src/app/shared/services/credit-card.service';\r\nimport { Router } from '@angular/router';\r\nimport { HeaderService } from 'src/app/shared/services/header.service';\r\n\r\n@Component({\r\n  selector: 'app-reconciliation-history',\r\n  templateUrl: './reconciliation-history.component.html',\r\n  styleUrls: ['./reconciliation-history.component.scss']\r\n})\r\nexport class ReconciliationHistoryComponent {\r\n  unsubscribe = new Subject<void>();\r\n  amountchange = new FormControl(null);\r\n  netamountchange = new FormControl(null);\r\n  searchText = new FormControl(null);\r\n  datepickerInput: any;\r\n  tableColumns: TableColumn[] = [];\r\n  searchChequeNo: string = '';\r\n  searchCustomerNo: string = '';\r\n  loading = false;\r\n  chequeList: any[] = [];\r\n  totalAllRecordsCount = 0;\r\n  page = 1;\r\n  total = 0;\r\n  limit = 6;\r\n  sort: number = 1;\r\n  startDate = '';\r\n  tableConfig: TableConfig = {\r\n    paging: true,\r\n    filter: {\r\n      Sort: 1,\r\n      PageSize: this.limit,\r\n    },\r\n  };\r\n\r\n\r\n  /**\r\n * filter selection\r\n */\r\n  commission: boolean = false;\r\n  amount: boolean = false;\r\n  netAmount: boolean = false;\r\n\r\n  constructor(\r\n    private creditcardservice: CreditCardService,\r\n    private headerService: HeaderService,\r\n    public router: Router,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.headerService.setTitle('Reconciliation History');\r\n    this.getData()\r\n    this.initTableColumns();\r\n    this.GetReconciliationTable()\r\n    this.amountchange.valueChanges\r\n      .pipe(debounceTime(300), distinctUntilChanged(), takeUntil(this.unsubscribe))\r\n      .subscribe(value => {\r\n        const text: string = value || '';\r\n        if (text?.length >= 0 || (!text?.length && this.tableConfig.filter.Amount?.length)) {\r\n          this.tableConfig.filter.Amount = text;\r\n          this.page = 1;\r\n          this.GetReconciliationTable()\r\n        }\r\n      });\r\n    this.netamountchange.valueChanges\r\n      .pipe(debounceTime(300), distinctUntilChanged(), takeUntil(this.unsubscribe))\r\n      .subscribe(value => {\r\n        const text: string = value || '';\r\n        if (text?.length >= 0 || (!text?.length && this.tableConfig.filter.NetAmount?.length)) {\r\n          this.tableConfig.filter.NetAmount = text;\r\n          this.page = 1;\r\n          this.GetReconciliationTable()\r\n        }\r\n      });\r\n  }\r\n  ngOnDestroy() { }\r\n\r\n  initTableColumns() {\r\n    this.tableColumns = [\r\n      {\r\n        key: 'No',\r\n        label: 'No.',\r\n        canSort: false,\r\n      },\r\n      {\r\n        key: 'reconciliationHistoryId',\r\n        label: 'Reconciliation ID',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'createdBy.fullName',\r\n        label: 'Created by',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'createdAt',\r\n        label: 'Date',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'totalAmount',\r\n        label: 'Amount',\r\n        canSort: true,\r\n      },\r\n      // {\r\n      //   key: 'Commission',\r\n      //   label: 'Commission',\r\n      // },\r\n      {\r\n        key: 'totalNetAmount',\r\n        label: 'Net',\r\n        canSort: true,\r\n      },\r\n      {\r\n        key: 'Action',\r\n        label: 'Action',\r\n        canSort: false,\r\n      },\r\n    ];\r\n  }\r\n\r\n\r\n\r\n  onSortChange(sort: any) {\r\n    if (sort?.direction && sort?.column) {\r\n      switch (sort.column) {\r\n        // case 'No':\r\n        //   this.tableConfig.filter.Sort = sort.direction === 'desc' ? 3 : 2;\r\n        //   break;\r\n        case 'reconciliationHistoryId':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 3 : 2;\r\n          break;\r\n        case 'createdBy.fullName':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 5 : 4;\r\n          break;\r\n        case 'createdAt':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 7 : 6;\r\n          break;\r\n        case 'totalAmount':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 9 : 8;\r\n          break;\r\n        case 'totalNetAmount':\r\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 11 : 10;\r\n          break;\r\n        // case 'Action':\r\n        //   this.tableConfig.filter.Sort = sort.direction === 'desc' ? 15 : 13;\r\n        //   break;\r\n        default:\r\n          break;\r\n      }\r\n    } else {\r\n      this.tableConfig.filter.Sort = 1;\r\n    }\r\n    this.GetReconciliationTable()\r\n  }\r\n\r\n  onPageChange(page: number) {\r\n    this.page = page;\r\n    this.GetReconciliationTable();\r\n  }\r\n\r\n  removeSearchChequeNo() {\r\n    this.searchChequeNo = '';\r\n    this.sort = 1;\r\n\r\n  }\r\n\r\n  onDateValueChange(event: any) {\r\n    var pipe = new DatePipe('en-US');\r\n    this.startDate = pipe.transform(event) || '';\r\n    console.log(this.startDate);\r\n    if (this.startDate) {\r\n      const fromDate = new Date(this.startDate);\r\n      fromDate.setDate(fromDate.getDate() + 1); // Adding one day\r\n      const formattedFromDate = fromDate.toISOString();\r\n      this.tableConfig.filter.ReconciliationDate = formattedFromDate;\r\n\r\n    } else\r\n      this.tableConfig.filter.ReconciliationDate = this.startDate;\r\n    this.page = 1;\r\n    this.GetReconciliationTable()\r\n  }\r\n\r\n\r\n\r\n  removeCollectionDateFilter() {\r\n    (this.startDate = '');\r\n    if (this.datepickerInput)\r\n      this.datepickerInput = '';\r\n    this.page = 1;\r\n    this.GetReconciliationTable()\r\n  }\r\n\r\n  // To Remove More Filters > Amount clear\r\n  removeAmountFilter() {\r\n    this.amountchange.setValue(null);\r\n    this.tableConfig.filter.Amount = '';\r\n    this.page = 1;\r\n    this.GetReconciliationTable()\r\n  }\r\n\r\n  // To Remove Checkbox from More Filters > Amount\r\n  filterAmount(event: any) {\r\n    this.amount = event.checked;\r\n\r\n    if (!this.amount) {\r\n      this.amount = false\r\n      this.amountchange.setValue(null);\r\n      this.tableConfig.filter.Amount = '';\r\n      this.page = 1;\r\n      this.GetReconciliationTable()\r\n    }\r\n  }\r\n\r\n  // To Remove More Filters > Net Amount clear\r\n  removeNetAmountFilter() {\r\n    this.netamountchange.setValue(null);\r\n    this.tableConfig.filter.NetAmount = '';\r\n    this.page = 1;\r\n    this.GetReconciliationTable()\r\n  }\r\n\r\n  // To Remove Checkbox from More Filters > Net Amount\r\n  filterNetAmount(event: any) {\r\n    this.netAmount = event.checked;\r\n\r\n    if (!this.netAmount) {\r\n      this.netAmount = false\r\n      this.netamountchange.setValue(null);\r\n      this.tableConfig.filter.NetAmount = '';\r\n      this.page = 1;\r\n      this.GetReconciliationTable()\r\n    }\r\n  }\r\n\r\n\r\n  provider: any[] = [];\r\n  cardlist: any[] = [];\r\n\r\n  getData() {\r\n    const api1$ = this.creditcardservice.GetProviders({ pageSize: 1000, status: 2001 });\r\n    const api2$ = this.creditcardservice.GetCards();\r\n    forkJoin([api1$, api2$]).subscribe(\r\n      ([result1, result2]) => {\r\n        if (result1) {\r\n          console.log(result1.data);\r\n\r\n          this.provider = result1.data || [];\r\n        }\r\n        console.log(\"result2\", result2);\r\n        if (result2) {\r\n          this.cardlist = result2.data || [];\r\n        }\r\n      }, (error) => {\r\n        console.error(error);\r\n      }, () => {\r\n        this.loading = false;\r\n      });\r\n  }\r\n\r\n  GetReconciliationTable() {\r\n    this.tableConfig.filter.PageNo = this.page - 1;\r\n\r\n    const api1$ = this.creditcardservice.GetReconciliationHistory(this.tableConfig.filter);\r\n    forkJoin([api1$]).subscribe(\r\n      ([result1]) => {\r\n        console.log(result1);\r\n        if (result1) {\r\n          this.chequeList = result1.data || [];\r\n          this.totalAllRecordsCount = result1.totalRecordCount;\r\n          this.total = result1.totalRecordCount;\r\n        }\r\n      })\r\n  }\r\n\r\n  handleCategoryChange(event: any) {\r\n    this.tableConfig.filter.ProviderId = event.providerId;\r\n    this.page = 1;\r\n    this.GetReconciliationTable();\r\n  }\r\n\r\n  onClear() {\r\n    delete this.tableConfig.filter.ProviderId;\r\n    this.page = 1;\r\n    this.GetReconciliationTable()\r\n  }\r\n\r\n  onCTClear() {\r\n    delete this.tableConfig.filter.CardTypeId;\r\n    this.page = 1;\r\n    this.GetReconciliationTable()\r\n  }\r\n\r\n  handleCardType(event: any) {\r\n    this.tableConfig.filter.CardTypeId = event.id;\r\n    this.page = 1;\r\n    this.GetReconciliationTable()\r\n  }\r\n  sendid(reconciliationHistoryId: any) {\r\n\r\n    this.router.navigate(['credit-card/reconciliation-details'], { queryParams: { reconciliationHistoryid: reconciliationHistoryId } });\r\n  }\r\n  validateInput(event: any) {\r\n    const enteredValue = event.target.value;\r\n    const pattern = /^[0-9]*\\.?[0-9]*$/; // Regex pattern to allow numbers and decimal point\r\n    if (!pattern.test(enteredValue)) {\r\n      event.target.value = enteredValue.replace(/[^0-9.]/g, ''); // Remove any invalid characters\r\n    }\r\n  }\r\n}\r\n","<div class=\"row mt-2\">\r\n    <div class=\"col-md-10\">\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-3 col-md-6\">\r\n                <ng-select class=\"flex-grow-1 mt-3 mt-md-0\" [formControl]=\"searchText\" (clear)=\"onClear()\"\r\n                    (change)=\"handleCategoryChange($event)\" placeholder=\"Provider\" [items]=\"provider\"\r\n                    bindLabel=\"providerName\" bindValue=\"providerId\">\r\n                </ng-select>\r\n            </div>\r\n            <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n                <div class=\"input-group search-box\">\r\n                    <div class=\"dropdown\">\r\n                        <button class=\"btn dropdownFilters\" type=\"button\">\r\n                            <input [(ngModel)]=\"datepickerInput\" type=\"text\" (bsValueChange)=\"onDateValueChange($event)\"\r\n                                placeholder=\"Select Date\" class=\"form-control\" bsDatepicker\r\n                                #dp=\"bsDatepicker\"  [bsConfig]=\"{ containerClass: 'theme-red',isAnimated: true,showClearButton: true}\">\r\n                            <img (click)=\"dp.toggle()\" class=\"calender\" src=\"../../../../assets/images/calendar.png\" alt=\"\">\r\n                            <!-- <img class=\"down\" src=\"../../../../assets/images/down.png\" alt=\"\"> -->\r\n                            <i class=\"fa-regular fa-circle-xmark\" *ngIf=\"datepickerInput\"\r\n                                (click)=\"removeCollectionDateFilter()\"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-lg-3 col-md-6\">\r\n                <ng-select (clear)=\"onCTClear()\" (change)=\"handleCardType($event)\" class=\"flex-grow-1 mt-3 mt-md-0\"\r\n                    placeholder=\"Search By Card\" [items]=\"cardlist\" bindLabel=\"name.lookupName\" bindValue=\"id\">\r\n                </ng-select>\r\n            </div>\r\n            <!-- More Filters -->\r\n            <div class=\"col-lg-3 col-md-6 filterFlex\">\r\n                <div class=\"dropdown\">\r\n                    <button class=\"btn dropdownButton more-filter-drop\" type=\"button\" id=\"dropdownMenuButton\"\r\n                        data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                        <i class=\"fa-regular fa-plus\"></i> More Filters\r\n                    </button>\r\n                    <ul class=\"dropdown-menu menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                        <li>\r\n                            <!-- <a class=\"dropdown-item\">\r\n                                <input type=\"checkbox\" [(ngModel)]=\"commission\" class=\"checkBox\"\r\n                                    (change)=\"filterCommission($event.target)\" />\r\n                                &nbsp; Commission\r\n                            </a> -->\r\n                            <a class=\"dropdown-item\">\r\n                                <input type=\"checkbox\" [(ngModel)]=\"amount\" class=\"checkBox\"\r\n                                    (change)=\"filterAmount($event.target)\" />\r\n                                &nbsp;Amount\r\n                            </a>\r\n                            <a class=\"dropdown-item\">\r\n                                <input type=\"checkbox\" [(ngModel)]=\"netAmount\" class=\"checkBox\"\r\n                                    (change)=\"filterNetAmount($event.target)\" />\r\n                                &nbsp;Net Amount\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Clickfilter -->\r\n<div class=\"filterFlex mt-3\">\r\n    <!-- Commission -->\r\n    <!-- <div class=\"dropdown\" *ngIf=\"commission\">\r\n        <div class=\"input-group search-box\">\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\">\r\n                <i class=\"fa-solid fa-search\"></i>\r\n            </button>\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"Commission\" />\r\n            <i class=\"fa-regular fa-circle-xmark\" (click)=\"removeCommissionFilter()\"></i>\r\n        </div>\r\n    </div> -->\r\n\r\n    <!-- Amount -->\r\n    <div class=\"dropdown\" *ngIf=\"amount\">\r\n        <div class=\"input-group search-box\">\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\">\r\n                <i class=\"fa-solid fa-search\"></i>\r\n            </button>\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"Amount\" [formControl]=\"amountchange\" (input)=\"validateInput($event)\"/>\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\" [hidden]=\"amountchange.value == null\" (click)=\"removeAmountFilter()\">\r\n                <i class=\"fa-solid fa-xmark\"></i>\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <!-- Net Amount -->\r\n    <div class=\"dropdown\" *ngIf=\"netAmount\">\r\n        <div class=\"input-group search-box\">\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\">\r\n                <i class=\"fa-solid fa-search\"></i>\r\n            </button>\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"Net Amount\" [formControl]=\"netamountchange\" (input)=\"validateInput($event)\"/>\r\n            <button class=\"btn\" type=\"button\" id=\"button-addon1\" [hidden]=\"netamountchange.value == null\" (click)=\"removeNetAmountFilter()\">\r\n                <i class=\"fa-solid fa-xmark\"></i>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row mt-2\">\r\n    <div class=\"col-lg-12 text-heading\">\r\n        <h5>Cards reconciliations List</h5>\r\n        <h6 class=\"text-end\">Total No. : {{totalAllRecordsCount}}</h6>\r\n    </div>\r\n    <div class=\"col-md-12\">\r\n        <app-table-advanced [config]=\"tableConfig\" [columns]=\"tableColumns\" [data]=\"chequeList\" [loading]=\"loading\"\r\n            [page]=\"page\" [total]=\"total\" [limit]=\"limit\" (sortUpdated)=\"onSortChange($event)\"\r\n            (pageUpdated)=\"onPageChange($event)\">\r\n            <ng-template libTableAdvancedColumn=\"No\" let-row=\"row\" let-index=\"index\">\r\n                {{ index + 1 }}\r\n            </ng-template>\r\n            <ng-template libTableAdvancedColumn=\"createdAt\" let-row=\"row\">\r\n                {{ row?.createdAt | date}}\r\n              </ng-template>\r\n              <ng-template libTableAdvancedColumn=\"totalAmount\" let-row=\"row\">\r\n                {{ row?.totalAmount | number: '1.3-3'}} JOD\r\n              </ng-template>\r\n              <ng-template libTableAdvancedColumn=\"totalNetAmount\" let-row=\"row\">\r\n                {{ row?.totalNetAmount | number: '1.3-3'}} JOD\r\n              </ng-template>\r\n            <ng-template libTableAdvancedColumn=\"Action\" let-row=\"row\">\r\n                <i class=\"fa-light fa-eye\" (click)=\"sendid(row.reconciliationHistoryId)\" style=\"cursor: pointer;\" ></i>\r\n            </ng-template>\r\n        </app-table-advanced>\r\n    </div>\r\n</div>\r\n"],"names":["EventEmitter","Validators","MessageModalComponent","i0","GroupReconciliationComponent","constructor","fb","_activeModal","_modalService","cerditCardService","paging","ngOnInit","initForm","getBankAccountList","initTableColumns","console","log","data","formGroup","group","bankId","required","date","Date","commission","min","max","getBankAccounts","subscribe","response","bankAccountList","handleCommissionAmountChange","event","amount","target","value","totalAmount","f","get","setErrors","inValidAmount","markAsTouched","commisionPercentage","toString","setValue","handleCheckRecon","checkRecon","reconList","cardIds","map","x","comAmount","cardCollectionJod","toFixed","comPercentage","netAmount","calculateCommission","item","commissionPercentage","commissionAmount","save","invalid","markAllAsTouched","dataArray","forEach","obj","reconcilationIds","cardCollectionJodNet","cardBankDepositDate","bankaccountID","push","ReconcilationIds","next","isSuccess","responseModal","eventData","emit","error","err","errors","errorMessageEn","ErrorMessageEn","info","type","message","ref","open","componentInstance","toggleEdit","enable","tableColumns","key","label","selectors","outputs","decls","vars","consts","template","ctx","DatePipe","Subject","debounceTime","forkJoin","FormControl","ModalDismissReasons","CreateReconciliationComponent","creditcardservice","headerService","modalService","router","modalConfig","_datePipe","_helperService","filter","Sort","PageSize","limit","centered","setTitle","initFilterForm","getData","cardsArray","array","fetcAllData","api1$","GetProviders","pageSize","status","api2$","GetCards","branch$","GetBranch","result1","result2","branch","provider","cardlist","branchList","loading","filterForm","providerId","collectionDate","collectionDateFrom","collectionDateTo","cardTypeId","last4digits","machineID","branchId","valueChanges","pipe","page","formValues","trim","transform","filterParams","URLSearchParams","params","sort","GetReconHistory","result","reconciliation","totalAllRecordsCount","totalRecordCount","total","clear","element","index","initFormGroup","checked","add","getNotReturnedCardTransactions","filtered","getRawValue","length","isReturn","every","groupReconciliation","modalRef","size","selectedAmount","dismiss","comissionAmount","depositDate","disable","collectedAmount","row","at","amountExceeded","handleNetAmountChange","checkAll","ordersCardsCollectionId","setValidator","handleChangeCheckBox","controlName","validator","control","setValidators","updateValueAndValidity","clearValidators","onPostReconcilationIds","openmdel","ariaLabelledBy","then","closeResult","reason","getDismissReason","openmdelerroe","eventerror","ESC","BACKDROP_CLICK","sortByCardLast4Digits","sortByProviderName","sortByOrderCollectionId","sortByCollectionAt","sortByBranchName","sortByRegisterName","sortByCardType","sortByCardCollectionJod","onPageChange","modelClose","num","dismissAll","navigate","queryParams","validateInput","enteredValue","pattern","test","replace","viewQuery","distinctUntilChanged","takeUntil","CreditCardListComponent","_excelService","getdata","gettable","searchChequeText","unsubscribe","text","tableConfig","Last4digits","machineId","searchText","MachineReceipt","amountchange","Amount","SessionNumberchange","SessionNumber","checktext","parseFloat","isNaN","RegisterSessionId","netamountchange","NetAmount","ngOnDestroy","complete","getCardsForExport","PageNo","GetTable","generateExcelExport","collectionAt","dateFormate","exportOptions","fileName","mainHeading","sections","heading","headerStyle","bold","color","argb","fgColor","headers","mainKeyMapping","exportToExcelJs1","canSort","onSortChange","direction","column","api3$","api4$","GetRegister","api5$","Getcard","result3","result4","result5","register","carddetial","chequeList","removelast4Filter","removebankFilter","newDropdownbank","dropDownbankId","bank","removeInvoiceFilter","removeCommissionFilter","Commission","CommissionRatiochange","removeAmountFilter","removeMachineIdFilter","removeSectionFilter","removeNetAmountFilter","removeBranchNameFilter","BranchName","removeRegisterNameFilter","RegisterName","filterRegisterName","RegisterId","filterMachineId","isMachineId","filterBranchName","BranchId","filterNetAmount","filterAmount","filterSessionNumber","filterCommission","filterInvoice","Invoice","onDateValueChange","startDate","fromDate","setDate","getDate","formattedFromDate","toISOString","CollectionDate","removeCollectionDateFilter","datepickerInput","handleCategoryChange","handleCategoryChange2","CardTypeId","id","handleCategoryChange3","obj4","branchName","newDropdownbranch","dropDownbranchId","v","removebranchFilter","handleCategoryChange4","registersName","newDropdownregister","dropDownregisterId","removeregisterFilter","onClear","onClearR","onClearcard","IsPDCFilter","Status","gotopaymentdetails","onClearprovider","inputvalue","checkPoint","inputValue","includes","parts","split","patchValue","validateNumberInput","validateCommissionInput","numericValue","parseInt","CreditCardsPaymentComponent","sidebarService","route","selecteddeposit","step","snapshot","queryParamMap","activeNavLink","findNavLink","navLinks","emitEvent","select","navLink","silent","getdepositTypes","chooseDeposit","deposit","depositTypes","name","RouterModule","ReconciliationDetailsComponent","PaymentDetailViewComponent","routes","path","component","CreditCardsRoutingModule","forChild","imports","exports","CommonModule","GoogleMapsModule","HttpClientModule","HttpClientJsonpModule","SharedModule","FormsModule","ReactiveFormsModule","ReconciliationHistoryComponent","NgChartsModule","NgbModule","CreditCardsModule","declarations","OrdersCardsCollectionId","getdetial","getCardsCollectionDetial","dateString","datetimesettled","settledAt","datesettled","extractedDate","toLocaleDateString","extractedTime","toLocaleTimeString","extractedDatesettled","extractedTimesettled","lookupname","statusObj","translations","lookupName","lookupcolor","lookupBGColor","lookupTextColor","close","reconsilationstepid","GetReconciliationTable","getDetails","reconciliationId","bankDepositDateFrom","bankDepositDateTo","resetFilterForm","reset","ReconciledTransactionsList","cardsData","ReconciliationId","GetReconciliationHistory","createdAt","removeSearchChequeNo","searchChequeNo","ReconciliationDate","ProviderId","onCTClear","handleCardType","sendid","reconciliationHistoryId","reconciliationHistoryid"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}